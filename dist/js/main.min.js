"use strict";function isInViewport(e){e=e.getBoundingClientRect();return 0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)}function fitInViewportX(e){e=e.getBoundingClientRect();return 0<=e.left&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}var manipulateImg=function(e,t){isInViewport(t)?e.style.transform="translateY(30px)":e.style.transform="initial"};!function(){var t=document.querySelector("body");document.addEventListener("click",function(e){var t=e.target.closest(".pricing-cards .card");e.target.closest(".pricing-cards .card")&&(Array.from(document.querySelectorAll(".pricing-cards .card")).forEach(function(e){e.classList.remove("card--active")}),t.classList.add("card--active"))});var o=document.getElementById("pricingModal");o.addEventListener("show.bs.modal",function(e){var t=e.relatedTarget,n=t.getAttribute("data-bs-records"),r=t.getAttribute("data-bs-price"),i=o.querySelector(".modal-title span"),e=o.querySelector("#price"),t=o.querySelector('input[name="recordsNumber"]');i.textContent=n,e.textContent=r,t.value=n});var n,r=document.querySelector(".counter"),i=document.getElementById("reportImg");document.addEventListener("scroll",function(e){n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(function(){manipulateImg(i,r)})},!1);var c=document.querySelector("nav");document.addEventListener("click",function(e){e.target.closest(".nav-toggler")&&(c.classList.add("open"),t.style.overflow="hidden"),e.target.closest("nav .btn-close")&&(c.classList.remove("open"),t.style.overflow="initial"),e.target.closest("nav a")&&(c.classList.remove("open"),t.style.overflow="initial")})}(),function(){var e=document.documentElement,t=document.getElementById("navNext"),n=document.getElementById("navPrev"),r=document.querySelector(".carousel-container"),i=getComputedStyle(e).getPropertyValue("--card-width"),o=parseInt(i,10),i=document.querySelectorAll(".carousel .card"),i=Array.from(i);e.style.setProperty("--card-count",i.length);var c=i[i.length-1],a=i[0];t.addEventListener("click",function(e){r.scrollLeft+=o},!1),n.addEventListener("click",function(e){r.scrollLeft-=o},!1);function s(){fitInViewportX(a)&&fitInViewportX(c)?n.parentElement.classList.add("invisible"):(n.parentElement.classList.remove("invisible"),fitInViewportX(a)?(n.classList.add("disabled"),t.classList.remove("disabled")):fitInViewportX(c)?(t.classList.add("disabled"),n.classList.remove("disabled")):fitInViewportX(a)||fitInViewportX(c)||(n.classList.remove("disabled"),t.classList.remove("disabled")))}var d;window.addEventListener("resize",s),r.addEventListener("scroll",function(e){d&&window.cancelAnimationFrame(d),d=window.requestAnimationFrame(function(){s()})},!1),s()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbS5qcyIsImNhcm91c2VsLmpzIl0sIm5hbWVzIjpbImlzSW5WaWV3cG9ydCIsImVsZW0iLCJib3VuZGluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImJvdHRvbSIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJmaXRJblZpZXdwb3J0WCIsImxlZnQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsIm1hbmlwdWxhdGVJbWciLCJlbCIsInRyaWdnZXJFbCIsInN0eWxlIiwidHJhbnNmb3JtIiwiYm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0IiwiY2xvc2VzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY2FyZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInByaWNpbmdNb2RhbEVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0IiwicmVjb3JkQ291bnQiLCJnZXRBdHRyaWJ1dGUiLCJwcmljZSIsImNvdW50IiwicHJpY2VTcGFuIiwicGFja2FnZU51bWJlciIsInRleHRDb250ZW50IiwidmFsdWUiLCJ0aW1lb3V0IiwiY291bnRlckVsIiwicmVwb3J0SW1nIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJuYXYiLCJvdmVyZmxvdyIsInJvb3QiLCJidXR0b25OZXh0IiwiYnV0dG9uUHJldiIsImNvbnRhaW5lciIsInNsaWRlV2lkdGgiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNjcm9sbExlbmdodCIsInBhcnNlSW50Iiwic2xpZGVzIiwic2xpZGVzQXJyIiwic2V0UHJvcGVydHkiLCJsZW5ndGgiLCJsYXN0U2xpZGUiLCJmaXJzdFNsaWRlIiwic2Nyb2xsTGVmdCIsInVwZGF0ZU5hdiIsInBhcmVudEVsZW1lbnQiXSwibWFwcGluZ3MiOiJhQVdBLFNBQVNBLGFBQWFDLEdBRWhCQyxFQUFXRCxFQUFLRSx3QkFDcEIsT0FDa0IsR0FBaEJELEVBQVNFLEtBQ1RGLEVBQVNHLFNBQVdDLE9BQU9DLGFBQWVDLFNBQVNDLGdCQUFnQkMsY0FZdkUsU0FBU0MsZUFBZ0JWLEdBRW5CQyxFQUFXRCxFQUFLRSx3QkFFcEIsT0FDbUIsR0FBakJELEVBQVNVLE1BQ1RWLEVBQVNXLFFBQVVQLE9BQU9RLFlBQWNOLFNBQVNDLGdCQUFnQk0sYUFVckUsSUFBTUMsY0FBZ0IsU0FBU0MsRUFBSUMsR0FFOUJsQixhQUFha0IsR0FFZEQsRUFBR0UsTUFBTUMsVUFBWSxtQkFHckJILEVBQUdFLE1BQU1DLFVBQVksWUFLeEIsV0FFQyxJQUFNQyxFQUFPYixTQUFTYyxjQUFjLFFBTXBDZCxTQUFTZSxpQkFBaUIsUUFBUyxTQUFTQyxHQUMxQyxJQUFJQyxFQUFnQkQsRUFBTUUsT0FBT0MsUUFBUSx3QkFFcENILEVBQU1FLE9BQU9DLFFBQVEsMEJBRVBDLE1BQU1DLEtBQUtyQixTQUFTc0IsaUJBQWlCLHlCQUUzQ0MsUUFBUSxTQUFVQyxHQUM3QkEsRUFBS0MsVUFBVUMsT0FBTyxrQkFHeEJULEVBQWNRLFVBQVVFLElBQUksbUJBSTlCLElBQU1DLEVBQWlCNUIsU0FBUzZCLGVBQWUsZ0JBTy9DRCxFQUFlYixpQkFBaUIsZ0JBQWlCLFNBQVVDLEdBQ3pELElBQUljLEVBQVNkLEVBQU1lLGNBQ2ZDLEVBQWNGLEVBQU9HLGFBQWEsbUJBQ2xDQyxFQUFRSixFQUFPRyxhQUFhLGlCQUM1QkUsRUFBUVAsRUFBZWQsY0FBYyxxQkFDckNzQixFQUFZUixFQUFlZCxjQUFjLFVBQ3pDdUIsRUFBZ0JULEVBQWVkLGNBQWMsK0JBQ2pEcUIsRUFBTUcsWUFBY04sRUFDcEJJLEVBQVVFLFlBQWNKLEVBQ3hCRyxFQUFjRSxNQUFRUCxJQUl4QixJQU1JUSxFQU5BQyxFQUFZekMsU0FBU2MsY0FBYyxZQUNuQzRCLEVBQVkxQyxTQUFTNkIsZUFBZSxhQU14QzdCLFNBQVNlLGlCQUFpQixTQUFVLFNBQVVDLEdBS3hDd0IsR0FDRjFDLE9BQU82QyxxQkFBcUJILEdBSTlCQSxFQUFVMUMsT0FBTzhDLHNCQUFzQixXQUdyQ3BDLGNBQWNrQyxFQUFXRCxPQUkxQixHQUVELElBQUlJLEVBQU03QyxTQUFTYyxjQUFjLE9BRWpDZCxTQUFTZSxpQkFBaUIsUUFBUyxTQUFTQyxHQUV0Q0EsRUFBTUUsT0FBT0MsUUFBUSxrQkFDdkIwQixFQUFJcEIsVUFBVUUsSUFBSSxRQUNsQmQsRUFBS0YsTUFBTW1DLFNBQVcsVUFHcEI5QixFQUFNRSxPQUFPQyxRQUFRLG9CQUN2QjBCLEVBQUlwQixVQUFVQyxPQUFPLFFBQ3JCYixFQUFLRixNQUFNbUMsU0FBVyxXQUdwQjlCLEVBQU1FLE9BQU9DLFFBQVEsV0FDdkIwQixFQUFJcEIsVUFBVUMsT0FBTyxRQUNyQmIsRUFBS0YsTUFBTW1DLFNBQVcsYUFyRjdCLEdDbkRBLFdBSUMsSUFBTUMsRUFBTy9DLFNBQVNDLGdCQUNoQitDLEVBQWFoRCxTQUFTNkIsZUFBZSxXQUNyQ29CLEVBQWFqRCxTQUFTNkIsZUFBZSxXQUNyQ3FCLEVBQVlsRCxTQUFTYyxjQUFjLHVCQUNyQ3FDLEVBQWFDLGlCQUFpQkwsR0FBTU0saUJBQWlCLGdCQUNyREMsRUFBZUMsU0FBU0osRUFBWSxJQUNsQ0ssRUFBU3hELFNBQVNzQixpQkFBaUIsbUJBQ25DbUMsRUFBWXJDLE1BQU1DLEtBQUttQyxHQUM3QlQsRUFBS3BDLE1BQU0rQyxZQUFZLGVBQWdCRCxFQUFVRSxRQUNqRCxJQUFNQyxFQUFZSCxFQUFVQSxFQUFVRSxPQUFTLEdBQ3pDRSxFQUFhSixFQUFVLEdBRTdCVCxFQUFXakMsaUJBQWlCLFFBQVMsU0FBVUMsR0FDN0NrQyxFQUFVWSxZQUFjUixJQUN2QixHQUVITCxFQUFXbEMsaUJBQWlCLFFBQVMsU0FBVUMsR0FDN0NrQyxFQUFVWSxZQUFjUixJQUN2QixHQUthLFNBQVpTLElBRUU1RCxlQUFlMEQsSUFBZTFELGVBQWV5RCxHQUMvQ1gsRUFBV2UsY0FBY3ZDLFVBQVVFLElBQUksY0FJdkNzQixFQUFXZSxjQUFjdkMsVUFBVUMsT0FBTyxhQUV0Q3ZCLGVBQWUwRCxJQUNqQlosRUFBV3hCLFVBQVVFLElBQUksWUFDekJxQixFQUFXdkIsVUFBVUMsT0FBTyxhQUVyQnZCLGVBQWV5RCxJQUN0QlosRUFBV3ZCLFVBQVVFLElBQUksWUFDekJzQixFQUFXeEIsVUFBVUMsT0FBTyxhQUVwQnZCLGVBQWUwRCxJQUFnQjFELGVBQWV5RCxLQUN0RFgsRUFBV3hCLFVBQVVDLE9BQU8sWUFDNUJzQixFQUFXdkIsVUFBVUMsT0FBTyxjQW5CbEMsSUE4QkljLEVBTkoxQyxPQUFPaUIsaUJBQWlCLFNBQVVnRCxHQVFsQ2IsRUFBVW5DLGlCQUFpQixTQUFVLFNBQVVDLEdBS3pDd0IsR0FDRjFDLE9BQU82QyxxQkFBcUJILEdBSTlCQSxFQUFVMUMsT0FBTzhDLHNCQUFzQixXQUdyQ21CLFFBTUQsR0FFSEEsSUFoRkQiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEdlbmVyaWMgY3VzdG9tIGpzXG4gKiBAYXV0aG9yOiBSV1xuICovXG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge0RPTSBFbGVtZW50fSBlbGVtIFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbiAgXG5mdW5jdGlvbiBpc0luVmlld3BvcnQoZWxlbSkge1xuICAvL2NvbnNvbGUubG9nKCdjaGVja2luZyB2aWV3cG9ydCcpO1xuICBsZXQgYm91bmRpbmcgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4gKFxuICAgIGJvdW5kaW5nLnRvcCA+PSAwICYmXG4gICAgYm91bmRpbmcuYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodClcbiAgICAvLyBib3VuZGluZy5sZWZ0ID49IDAgJiZcbiAgICAvLyBib3VuZGluZy5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuICApO1xufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHtET00gRWxlbWVudH0gZWxlbSBcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbmZ1bmN0aW9uIGZpdEluVmlld3BvcnRYIChlbGVtKSB7XG4gIC8vIGNvbnNvbGUubG9nKCdmaXRzIGluIHZpZXdwb3J0IGhvcml6b250YWxseScpO1xuICBsZXQgYm91bmRpbmcgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHJldHVybiAoXG4gICAgYm91bmRpbmcubGVmdCA+PSAwICYmXG4gICAgYm91bmRpbmcucmlnaHQgPD0gKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aClcbiAgKTtcbn07XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge0RPTSBFbGVtZW50fSBlbCBlbGVtZW50IHRvIGJlIG1hbmlwdWxhdGVkXG4gKiBAcGFyYW0ge0RPTSBFbGVtZW50fSB0cmlnZ2VyRWwgZWxlbWVudCBpbiB0aGUgdmlld3BvcnQgdG8gdHJpZ2dlciB0aGUgbWFuaXB1bGF0aW9uXG4gKi9cblxuY29uc3QgbWFuaXB1bGF0ZUltZyA9IGZ1bmN0aW9uKGVsLCB0cmlnZ2VyRWwpIHtcblxuICBpZihpc0luVmlld3BvcnQodHJpZ2dlckVsKSkge1xuICAgIFxuICAgIGVsLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgzMHB4KVwiO1xuICB9IGVsc2Uge1xuICAgIFxuICAgIGVsLnN0eWxlLnRyYW5zZm9ybSA9IFwiaW5pdGlhbFwiO1xuICB9O1xuICBcbn07XG5cbjsoZnVuY3Rpb24gKCkge1xuXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlIHByaWNpbmcgcGxhbnMgXG4gICAqL1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5wcmljaW5nLWNhcmRzIC5jYXJkJyk7XG4gICAgXG4gICAgaWYgKCFldmVudC50YXJnZXQuY2xvc2VzdCgnLnByaWNpbmctY2FyZHMgLmNhcmQnKSkgcmV0dXJuO1xuXG4gICAgbGV0IHByaWNpbmdDYXJkcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByaWNpbmctY2FyZHMgLmNhcmQnKSk7XG4gICAgXG4gICAgcHJpY2luZ0NhcmRzLmZvckVhY2goZnVuY3Rpb24gKGNhcmQpe1xuICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkLS1hY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgnY2FyZC0tYWN0aXZlJyk7XG5cbiAgfSk7XG5cbiAgY29uc3QgcHJpY2luZ01vZGFsRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpY2luZ01vZGFsJyk7XG4gIC8vIGNvbnN0IHByaWNpbmdNb2RhbCA9IG5ldyBNb2RhbChwcmljaW5nTW9kYWxFbCwge1xuICAvLyAgIGtleWJvYXJkOiBmYWxzZVxuICAvLyB9KTtcblxuICAvLyAvLyBwcmljaW5nTW9kYWwuc2hvdygpO1xuXG4gIHByaWNpbmdNb2RhbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsZXQgYnV0dG9uID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICBsZXQgcmVjb3JkQ291bnQgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWJzLXJlY29yZHMnKTtcbiAgICBsZXQgcHJpY2UgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWJzLXByaWNlJyk7XG4gICAgbGV0IGNvdW50ID0gcHJpY2luZ01vZGFsRWwucXVlcnlTZWxlY3RvcignLm1vZGFsLXRpdGxlIHNwYW4nKTtcbiAgICBsZXQgcHJpY2VTcGFuID0gcHJpY2luZ01vZGFsRWwucXVlcnlTZWxlY3RvcignI3ByaWNlJyk7XG4gICAgbGV0IHBhY2thZ2VOdW1iZXIgPSBwcmljaW5nTW9kYWxFbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwicmVjb3Jkc051bWJlclwiXScpO1xuICAgIGNvdW50LnRleHRDb250ZW50ID0gcmVjb3JkQ291bnQ7XG4gICAgcHJpY2VTcGFuLnRleHRDb250ZW50ID0gcHJpY2U7XG4gICAgcGFja2FnZU51bWJlci52YWx1ZSA9IHJlY29yZENvdW50O1xuICAgIFxuICB9KTtcblxuICBsZXQgY291bnRlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdW50ZXInKTtcbiAgbGV0IHJlcG9ydEltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRJbWcnKTtcblxuICAvKipcbiAgICAgKiBTY3JvbGwgZXZlbnQgZGVib3VuY2VcbiAgICAgKi9cbiAgdmFyIHRpbWVvdXQ7IC8vIFNldHVwIGEgdGltZXIgZm9yIHNjcm9sbCBkZWJvdW5jZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdubyBkZWJvdW5jZScpO1xuXG4gICAgLy8gSWYgdGhlcmUncyBhIHRpbWVyLCBjYW5jZWwgaXRcbiAgICBpZiAodGltZW91dCkge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRpbWVvdXQpO1xuICAgIH1cblxuICAgIC8vIFNldHVwIHRoZSBuZXcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKClcbiAgICB0aW1lb3V0ID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG5cbiAgICAgIC8vIFJ1biBvdXIgc2Nyb2xsIGZ1bmN0aW9uc1xuICAgICAgbWFuaXB1bGF0ZUltZyhyZXBvcnRJbWcsIGNvdW50ZXJFbCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnZGVib3VuY2VkJyk7XG5cbiAgICB9KTtcbiAgfSwgZmFsc2UpO1xuXG4gICAgbGV0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ25hdicpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCl7XG5cbiAgICAgIGlmIChldmVudC50YXJnZXQuY2xvc2VzdCgnLm5hdi10b2dnbGVyJykpIHtcbiAgICAgICAgbmF2LmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ25hdiAuYnRuLWNsb3NlJykpIHtcbiAgICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdpbml0aWFsJztcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbG9zZXN0KCduYXYgYScpKSB7XG4gICAgICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaW5pdGlhbCc7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICBcblxufSkoKTtcblxuXG5cbiIsIi8qIVxuICogQ2Fyb3VzZWwgcGx1Z2luXG4gKiBAYXV0aG9yOiBSV1xuICovXG5cbjsoZnVuY3Rpb24gKCkge1xuXG4gICd1c2Ugc3RyaWN0JzsgXG5cbiAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgY29uc3QgYnV0dG9uTmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZOZXh0Jyk7XG4gIGNvbnN0IGJ1dHRvblByZXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2UHJldicpO1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtY29udGFpbmVyJyk7XG4gIGxldCBzbGlkZVdpZHRoID0gZ2V0Q29tcHV0ZWRTdHlsZShyb290KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWNhcmQtd2lkdGgnKTtcbiAgbGV0IHNjcm9sbExlbmdodCA9IHBhcnNlSW50KHNsaWRlV2lkdGgsIDEwKTtcbiAgY29uc3Qgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsIC5jYXJkJyk7XG4gIGNvbnN0IHNsaWRlc0FyciA9IEFycmF5LmZyb20oc2xpZGVzKTtcbiAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jYXJkLWNvdW50Jywgc2xpZGVzQXJyLmxlbmd0aCk7XG4gIGNvbnN0IGxhc3RTbGlkZSA9IHNsaWRlc0FycltzbGlkZXNBcnIubGVuZ3RoIC0gMV07XG4gIGNvbnN0IGZpcnN0U2xpZGUgPSBzbGlkZXNBcnJbMF07XG4gIFxuICBidXR0b25OZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgY29udGFpbmVyLnNjcm9sbExlZnQgKz0gc2Nyb2xsTGVuZ2h0O1xuICB9LCBmYWxzZSk7XG4gIFxuICBidXR0b25QcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgY29udGFpbmVyLnNjcm9sbExlZnQgLT0gc2Nyb2xsTGVuZ2h0O1xuICB9LCBmYWxzZSk7XG4gIFxuICAvKipcbiAgICogVG9nZ2xpbmcgY2Fyb3VzZWwgbmF2IGFuZCBkaXNhYmxpbmcvZW5hYmxpbmcgYnV0dG9uc1xuICAgKi9cbiAgbGV0IHVwZGF0ZU5hdiA9IGZ1bmN0aW9uKCl7XG5cbiAgICBpZiAoZml0SW5WaWV3cG9ydFgoZmlyc3RTbGlkZSkgJiYgZml0SW5WaWV3cG9ydFgobGFzdFNsaWRlKSkge1xuICAgICAgYnV0dG9uUHJldi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ludmlzaWJsZScpO1xuICAgICAgcmV0dXJuO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvblByZXYucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpbnZpc2libGUnKTtcblxuICAgICAgaWYgKGZpdEluVmlld3BvcnRYKGZpcnN0U2xpZGUpKSB7XG4gICAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZml0SW5WaWV3cG9ydFgobGFzdFNsaWRlKSkge1xuICAgICAgICBidXR0b25OZXh0LmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFmaXRJblZpZXdwb3J0WChmaXJzdFNsaWRlKSAmJiAhZml0SW5WaWV3cG9ydFgobGFzdFNsaWRlKSl7XG4gICAgICAgIGJ1dHRvblByZXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgYnV0dG9uTmV4dC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlTmF2KTtcblxuICAvKipcbiAgICogU2Nyb2xsIGV2ZW50IGRlYm91bmNlXG4gICAqL1xuXG4gIHZhciB0aW1lb3V0OyAvLyBTZXR1cCBhIHRpbWVyIGZvciBzY3JvbGwgZGVib3VuY2VcblxuICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAvLyBjb25zb2xlLmxvZygnbm8gZGVib3VuY2UnKTtcblxuICAgIC8vIElmIHRoZXJlJ3MgYSB0aW1lciwgY2FuY2VsIGl0XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aW1lb3V0KTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCB0aGUgbmV3IHJlcXVlc3RBbmltYXRpb25GcmFtZSgpXG4gICAgdGltZW91dCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuXG4gICAgICAvLyBSdW4gb3VyIHNjcm9sbCBmdW5jdGlvbnNcbiAgICAgIHVwZGF0ZU5hdigpO1xuICAgICAgXG4gICAgICAvLyBjb25zb2xlLmxvZygnZGVib3VuY2VkJyk7XG5cbiAgICB9KTtcblxuICB9LCBmYWxzZSk7XG5cbiAgdXBkYXRlTmF2KCk7XG4gIC8vIGNvbnNvbGUubG9nKCdjYXJvdXNlbC5qcycpO1xufSkoKTtcblxuXG4iXX0=