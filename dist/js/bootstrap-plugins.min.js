"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=_superPropBase(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("./dom/data.js"),require("./dom/event-handler.js")):"function"==typeof define&&define.amd?define(["./dom/data","./dom/event-handler"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Base=t(e.Data,e.EventHandler)}(void 0,function(e,t){function n(e){return e&&"object"===_typeof(e)&&"default"in e?e:{default:e}}function r(e){"function"==typeof e&&e()}function i(n,i){var e,o,t;2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?r(n):(e=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,i=t.transitionDelay,e=Number.parseFloat(n),t=Number.parseFloat(i);return e||t?(n=n.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(i))):0}(i)+5,o=!1,t=function e(t){t.target===i&&(o=!0,i.removeEventListener(s,e),r(n))},i.addEventListener(s,t),setTimeout(function(){o||i.dispatchEvent(new Event(s))},e))}var o=n(e),a=n(t),s="transitionend",l=function(e){return(t=e)&&"object"===_typeof(t)&&void 0!==(t=void 0!==t.jquery?t[0]:t).nodeType?e.jquery?e[0]:e:"string"==typeof e&&0<e.length?document.querySelector(e):null;var t};return function(){function t(e){_classCallCheck(this,t),(e=l(e))&&(this._element=e,o.default.set(this._element,this.constructor.DATA_KEY,this))}return _createClass(t,[{key:"dispose",value:function(){var t=this;o.default.remove(this._element,this.constructor.DATA_KEY),a.default.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(function(e){t[e]=null})}},{key:"_queueCallback",value:function(e,t){i(e,t,!(2<arguments.length&&void 0!==arguments[2])||arguments[2])}}],[{key:"getInstance",value:function(e){return o.default.get(l(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===_typeof(t)?t:null)}},{key:"VERSION",get:function(){return"5.1.1"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),t}()}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("./dom/event-handler.js"),require("./dom/manipulator.js"),require("./dom/selector-engine.js"),require("./base-component.js")):"function"==typeof define&&define.amd?define(["./dom/event-handler","./dom/manipulator","./dom/selector-engine","./base-component"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Modal=t(e.EventHandler,e.Manipulator,e.SelectorEngine,e.Base)}(void 0,function(e,t,n,i){function o(e){return e&&"object"===_typeof(e)&&"default"in e?e:{default:e}}function r(e){return(e=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){e=e.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;t=(e=e.includes("#")&&!e.startsWith("#")?"#".concat(e.split("#")[1]):e)&&"#"!==e?e.trim():null}return t}(e))?document.querySelector(e):null}function s(e){return!(!e||"object"!==_typeof(e))&&void 0!==(e=void 0!==e.jquery?e[0]:e).nodeType}function a(o,r,a){Object.keys(a).forEach(function(e){var t,n=a[e],i=r[e],t=i&&s(i)?"element":null==(t=i)?"".concat(t):{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(t))throw new TypeError("".concat(o.toUpperCase(),': Option "').concat(e,'" provided type "').concat(t,'" but expected type "').concat(n,'".'))})}function l(e){e.offsetHeight}function c(){return"rtl"===document.documentElement.dir}function u(e){"function"==typeof e&&e()}function f(n,i){var e,o,t;2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?u(n):(e=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,i=t.transitionDelay,e=Number.parseFloat(n),t=Number.parseFloat(i);return e||t?(n=n.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(i))):0}(i)+5,o=!1,t=function e(t){t.target===i&&(o=!0,i.removeEventListener(g,e),u(n))},i.addEventListener(g,t),setTimeout(function(){o||i.dispatchEvent(new Event(g))},e))}var d,h,_=o(e),p=o(t),m=o(n),y=o(i),g="transitionend",b=[],v=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",k=".sticky-top",E=function(){function e(){_classCallCheck(this,e),this._element=document.body}return _createClass(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",function(e){return e+t}),this._setElementAttributes(v,"paddingRight",function(e){return e+t}),this._setElementAttributes(k,"marginRight",function(e){return e-t})}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,n,i){var o=this,r=this.getWidth();this._applyManipulationCallback(e,function(e){var t;e!==o._element&&window.innerWidth>e.clientWidth+r||(o._saveInitialAttribute(e,n),t=window.getComputedStyle(e)[n],e.style[n]="".concat(i(Number.parseFloat(t)),"px"))})}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(v,"paddingRight"),this._resetElementAttributes(k,"marginRight")}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style[t];n&&p.default.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,n){this._applyManipulationCallback(e,function(e){var t=p.default.getDataAttribute(e,n);void 0===t?e.style.removeProperty(n):(p.default.removeDataAttribute(e,n),e.style[n]=t)})}},{key:"_applyManipulationCallback",value:function(e,t){s(e)?t(e):m.default.find(e,this._element).forEach(t)}},{key:"isOverflowing",value:function(){return 0<this.getWidth()}}]),e}(),w={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},A={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},j="backdrop",C="mousedown.bs.".concat(j),O=function(){function t(e){_classCallCheck(this,t),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}return _createClass(t,[{key:"show",value:function(e){this._config.isVisible?(this._append(),this._config.isAnimated&&l(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(function(){u(e)})):u(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(function(){t.dispose(),u(e)})):u(e)}},{key:"_getElement",value:function(){var e;return this._element||((e=document.createElement("div")).className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e),this._element}},{key:"_getConfig",value:function(e){var t;return(e=_objectSpread(_objectSpread({},w),"object"===_typeof(e)?e:{})).rootElement=(t=e.rootElement,s(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(t):null),a(j,e,A),e}},{key:"_append",value:function(){var e=this;this._isAppended||(this._config.rootElement.append(this._getElement()),_.default.on(this._getElement(),C,function(){u(e._config.clickCallback)}),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(_.default.off(this._element,C),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(e){f(e,this._getElement(),this._config.isAnimated)}}]),t}(),T={trapElement:null,autofocus:!0},P={trapElement:"element",autofocus:"boolean"},S=".".concat("bs.focustrap"),N="focusin".concat(S),D="keydown.tab".concat(S),R="backward",B=function(){function t(e){_classCallCheck(this,t),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}return _createClass(t,[{key:"activate",value:function(){var t=this,e=this._config,n=e.trapElement,e=e.autofocus;this._isActive||(e&&n.focus(),_.default.off(document,S),_.default.on(document,N,function(e){return t._handleFocusin(e)}),_.default.on(document,D,function(e){return t._handleKeydown(e)}),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,_.default.off(document,S))}},{key:"_handleFocusin",value:function(e){var t=e.target,e=this._config.trapElement;t===document||t===e||e.contains(t)||(0===(t=m.default.focusableChildren(e)).length?e:this._lastTabNavDirection===R?t[t.length-1]:t[0]).focus()}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?R:"forward")}},{key:"_getConfig",value:function(e){return e=_objectSpread(_objectSpread({},T),"object"===_typeof(e)?e:{}),a("focustrap",e,P),e}}]),t}(),L=".".concat("bs.modal"),q={backdrop:!0,keyboard:!0,focus:!0},M={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},x="hide".concat(L),I="hidePrevented".concat(L),F="hidden".concat(L),K="show".concat(L),Y="shown".concat(L),z="resize".concat(L),W="click.dismiss".concat(L),V="keydown.dismiss".concat(L),H="mouseup.dismiss".concat(L),Q="mousedown.dismiss".concat(L),i="click".concat(L).concat(".data-api"),U="modal-open",G="modal-static",J=".modal-dialog",X=function(){_inherits(i,y["default"]);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),(e=n.call(this,e))._config=e._getConfig(t),e._dialog=m.default.findOne(J,e._element),e._backdrop=e._initializeBackDrop(),e._focustrap=e._initializeFocusTrap(),e._isShown=!1,e._ignoreBackdropClick=!1,e._isTransitioning=!1,e._scrollBar=new E,e}return _createClass(i,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||_.default.trigger(this._element,K,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(U),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),_.default.on(this._dialog,Q,function(){_.default.one(t._element,H,function(e){e.target===t._element&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)}))}},{key:"hide",value:function(){var e,t=this;this._isShown&&!this._isTransitioning&&(_.default.trigger(this._element,x).defaultPrevented||(this._isShown=!1,(e=this._isAnimated())&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),_.default.off(this._element,W),_.default.off(this._dialog,Q),this._queueCallback(function(){return t._hideModal()},this._element,e)))}},{key:"dispose",value:function(){[window,this._dialog].forEach(function(e){return _.default.off(e,L)}),this._backdrop.dispose(),this._focustrap.deactivate(),_get(_getPrototypeOf(i.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new O({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new B({trapElement:this._element})}},{key:"_getConfig",value:function(e){return e=_objectSpread(_objectSpread(_objectSpread({},q),p.default.getDataAttributes(this._element)),"object"===_typeof(e)?e:{}),a("modal",e,M),e}},{key:"_showElement",value:function(e){var t=this,n=this._isAnimated(),i=m.default.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),n&&l(this._element),this._element.classList.add("show");this._queueCallback(function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,_.default.trigger(t._element,Y,{relatedTarget:e})},this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var t=this;this._isShown?_.default.on(this._element,V,function(e){t._config.keyboard&&"Escape"===e.key?(e.preventDefault(),t.hide()):t._config.keyboard||"Escape"!==e.key||t._triggerBackdropTransition()}):_.default.off(this._element,V)}},{key:"_setResizeEvent",value:function(){var e=this;this._isShown?_.default.on(window,z,function(){return e._adjustDialog()}):_.default.off(window,z)}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(function(){document.body.classList.remove(U),e._resetAdjustments(),e._scrollBar.reset(),_.default.trigger(e._element,F)})}},{key:"_showBackdrop",value:function(e){var t=this;_.default.on(this._element,W,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===t._config.backdrop?t.hide():"static"===t._config.backdrop&&t._triggerBackdropTransition())}),this._backdrop.show(e)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var e,t,n,i,o,r=this;_.default.trigger(this._element,I).defaultPrevented||(e=this._element,t=e.classList,n=e.scrollHeight,i=e.style,!(o=n>document.documentElement.clientHeight)&&"hidden"===i.overflowY||t.contains(G)||(o||(i.overflowY="hidden"),t.add(G),this._queueCallback(function(){t.remove(G),o||r._queueCallback(function(){i.overflowY=""},r._dialog)},this._dialog),this._element.focus()))}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=0<t;(!n&&e&&!c()||n&&!e&&c())&&(this._element.style.paddingLeft="".concat(t,"px")),(n&&!e&&!c()||!n&&e&&c())&&(this._element.style.paddingRight="".concat(t,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return q}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(t,n){return this.each(function(){var e=i.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t](n)}})}}]),i}();return _.default.on(document,i,'[data-bs-toggle="modal"]',function(e){var t=this,n=r(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),_.default.one(n,K,function(e){e.defaultPrevented||_.default.one(n,F,function(){var e;s(e=t)&&0!==e.getClientRects().length&&"visible"===getComputedStyle(e).getPropertyValue("visibility")&&t.focus()})});e=m.default.findOne(".modal.show");e&&X.getInstance(e).hide(),X.getOrCreateInstance(n).toggle(this)}),function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"hide",e="click.dismiss".concat(t.EVENT_KEY),i=t.NAME;_.default.on(document,e,'[data-bs-dismiss="'.concat(i,'"]'),function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!(e=this)||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))||(e=r(this)||this.closest(".".concat(i)),t.getOrCreateInstance(e)[n]())})}(X),d=X,h=function(){var e,t,n,i=(e=window.jQuery)&&!document.body.hasAttribute("data-bs-no-jquery")?e:null;i&&(t=d.NAME,n=i.fn[t],i.fn[t]=d.jQueryInterface,i.fn[t].Constructor=d,i.fn[t].noConflict=function(){return i.fn[t]=n,d.jQueryInterface})},"loading"===document.readyState?(b.length||document.addEventListener("DOMContentLoaded",function(){b.forEach(function(e){return e()})}),b.push(h)):h(),X});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UtY29tcG9uZW50LmpzIiwibW9kYWwuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJfdHlwZW9mIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImdsb2JhbFRoaXMiLCJzZWxmIiwiQmFzZSIsIkRhdGEiLCJFdmVudEhhbmRsZXIiLCJfaW50ZXJvcERlZmF1bHRMZWdhY3kiLCJlIiwiZGVmYXVsdCIsImV4ZWN1dGUiLCJjYWxsYmFjayIsImV4ZWN1dGVBZnRlclRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uRWxlbWVudCIsImVtdWxhdGVkRHVyYXRpb24iLCJjYWxsZWQiLCJoYW5kbGVyIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZWxlbWVudCIsIl93aW5kb3ckZ2V0Q29tcHV0ZWRTdCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uRGVsYXkiLCJmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiIsIk51bWJlciIsInBhcnNlRmxvYXQiLCJmbG9hdFRyYW5zaXRpb25EZWxheSIsInNwbGl0IiwiZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQiLCJfcmVmIiwidGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlRSQU5TSVRJT05fRU5EIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFRpbWVvdXQiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJEYXRhX19kZWZhdWx0IiwiRXZlbnRIYW5kbGVyX19kZWZhdWx0IiwiZ2V0RWxlbWVudCIsIm9iaiIsImpxdWVyeSIsIm5vZGVUeXBlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiQmFzZUNvbXBvbmVudCIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfZWxlbWVudCIsInNldCIsImNvbnN0cnVjdG9yIiwiREFUQV9LRVkiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIl90aGlzIiwicmVtb3ZlIiwib2ZmIiwiRVZFTlRfS0VZIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJwcm9wZXJ0eU5hbWUiLCJnZXQiLCJjb25maWciLCJnZXRJbnN0YW5jZSIsIkVycm9yIiwiY29uY2F0IiwiTkFNRSIsIk1vZGFsIiwiTWFuaXB1bGF0b3IiLCJTZWxlY3RvckVuZ2luZSIsImdldEVsZW1lbnRGcm9tU2VsZWN0b3IiLCJzZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsImhyZWZBdHRyIiwiaW5jbHVkZXMiLCJzdGFydHNXaXRoIiwidHJpbSIsImdldFNlbGVjdG9yIiwiaXNFbGVtZW50IiwidHlwZUNoZWNrQ29uZmlnIiwiY29tcG9uZW50TmFtZSIsImNvbmZpZ1R5cGVzIiwia2V5cyIsInByb3BlcnR5IiwiZXhwZWN0ZWRUeXBlcyIsInZhbHVlVHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIm1hdGNoIiwidG9Mb3dlckNhc2UiLCJSZWdFeHAiLCJ0ZXN0IiwiVHlwZUVycm9yIiwidG9VcHBlckNhc2UiLCJyZWZsb3ciLCJvZmZzZXRIZWlnaHQiLCJpc1JUTCIsImRvY3VtZW50RWxlbWVudCIsImRpciIsInBsdWdpbiIsIk1hbmlwdWxhdG9yX19kZWZhdWx0IiwiU2VsZWN0b3JFbmdpbmVfX2RlZmF1bHQiLCJCYXNlQ29tcG9uZW50X19kZWZhdWx0IiwiRE9NQ29udGVudExvYWRlZENhbGxiYWNrcyIsIlNFTEVDVE9SX0ZJWEVEX0NPTlRFTlQiLCJTRUxFQ1RPUl9TVElDS1lfQ09OVEVOVCIsIlNjcm9sbEJhckhlbHBlciIsImJvZHkiLCJkb2N1bWVudFdpZHRoIiwiY2xpZW50V2lkdGgiLCJNYXRoIiwiYWJzIiwiaW5uZXJXaWR0aCIsIndpZHRoIiwiZ2V0V2lkdGgiLCJfZGlzYWJsZU92ZXJGbG93IiwiX3NldEVsZW1lbnRBdHRyaWJ1dGVzIiwiY2FsY3VsYXRlZFZhbHVlIiwiX3NhdmVJbml0aWFsQXR0cmlidXRlIiwic3R5bGUiLCJvdmVyZmxvdyIsInN0eWxlUHJvcCIsInNjcm9sbGJhcldpZHRoIiwiX2FwcGx5TWFuaXB1bGF0aW9uQ2FsbGJhY2siLCJfcmVzZXRFbGVtZW50QXR0cmlidXRlcyIsImFjdHVhbFZhbHVlIiwic2V0RGF0YUF0dHJpYnV0ZSIsImdldERhdGFBdHRyaWJ1dGUiLCJyZW1vdmVQcm9wZXJ0eSIsInJlbW92ZURhdGFBdHRyaWJ1dGUiLCJjYWxsQmFjayIsImZpbmQiLCJEZWZhdWx0JDIiLCJjbGFzc05hbWUiLCJpc1Zpc2libGUiLCJpc0FuaW1hdGVkIiwicm9vdEVsZW1lbnQiLCJjbGlja0NhbGxiYWNrIiwiRGVmYXVsdFR5cGUkMiIsIk5BTUUkMiIsIkVWRU5UX01PVVNFRE9XTiIsIkJhY2tkcm9wIiwiX2NvbmZpZyIsIl9nZXRDb25maWciLCJfaXNBcHBlbmRlZCIsIl9hcHBlbmQiLCJfZ2V0RWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsIl9lbXVsYXRlQW5pbWF0aW9uIiwiX3RoaXMyIiwiZGlzcG9zZSIsImJhY2tkcm9wIiwiY3JlYXRlRWxlbWVudCIsIl9vYmplY3RTcHJlYWQiLCJfdGhpczMiLCJhcHBlbmQiLCJvbiIsIkRlZmF1bHQkMSIsInRyYXBFbGVtZW50IiwiYXV0b2ZvY3VzIiwiRGVmYXVsdFR5cGUkMSIsIkVWRU5UX0tFWSQxIiwiRVZFTlRfRk9DVVNJTiIsIkVWRU5UX0tFWURPV05fVEFCIiwiVEFCX05BVl9CQUNLV0FSRCIsIkZvY3VzVHJhcCIsIl9pc0FjdGl2ZSIsIl9sYXN0VGFiTmF2RGlyZWN0aW9uIiwiX3RoaXM0IiwiX3RoaXMkX2NvbmZpZyIsImZvY3VzIiwiZXZlbnQiLCJfaGFuZGxlRm9jdXNpbiIsIl9oYW5kbGVLZXlkb3duIiwiY29udGFpbnMiLCJlbGVtZW50cyIsImZvY3VzYWJsZUNoaWxkcmVuIiwic2hpZnRLZXkiLCJEZWZhdWx0Iiwia2V5Ym9hcmQiLCJEZWZhdWx0VHlwZSIsIkVWRU5UX0hJREUiLCJFVkVOVF9ISURFX1BSRVZFTlRFRCIsIkVWRU5UX0hJRERFTiIsIkVWRU5UX1NIT1ciLCJFVkVOVF9TSE9XTiIsIkVWRU5UX1JFU0laRSIsIkVWRU5UX0NMSUNLX0RJU01JU1MiLCJFVkVOVF9LRVlET1dOX0RJU01JU1MiLCJFVkVOVF9NT1VTRVVQX0RJU01JU1MiLCJFVkVOVF9NT1VTRURPV05fRElTTUlTUyIsIkVWRU5UX0NMSUNLX0RBVEFfQVBJIiwiQ0xBU1NfTkFNRV9PUEVOIiwiQ0xBU1NfTkFNRV9TVEFUSUMiLCJTRUxFQ1RPUl9ESUFMT0ciLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJfY3JlYXRlU3VwZXIiLCJfdGhpczUiLCJfZGlhbG9nIiwiZmluZE9uZSIsIl9iYWNrZHJvcCIsIl9pbml0aWFsaXplQmFja0Ryb3AiLCJfZm9jdXN0cmFwIiwiX2luaXRpYWxpemVGb2N1c1RyYXAiLCJfaXNTaG93biIsIl9pZ25vcmVCYWNrZHJvcENsaWNrIiwiX2lzVHJhbnNpdGlvbmluZyIsIl9zY3JvbGxCYXIiLCJyZWxhdGVkVGFyZ2V0IiwiaGlkZSIsInNob3ciLCJfdGhpczYiLCJ0cmlnZ2VyIiwiZGVmYXVsdFByZXZlbnRlZCIsIl9pc0FuaW1hdGVkIiwiX2FkanVzdERpYWxvZyIsIl9zZXRFc2NhcGVFdmVudCIsIl9zZXRSZXNpemVFdmVudCIsIm9uZSIsIl9zaG93QmFja2Ryb3AiLCJfc2hvd0VsZW1lbnQiLCJfdGhpczciLCJkZWFjdGl2YXRlIiwiX3F1ZXVlQ2FsbGJhY2siLCJfaGlkZU1vZGFsIiwiaHRtbEVsZW1lbnQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiQm9vbGVhbiIsImdldERhdGFBdHRyaWJ1dGVzIiwiX3RoaXM4IiwibW9kYWxCb2R5IiwicGFyZW50Tm9kZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJkaXNwbGF5IiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic2Nyb2xsVG9wIiwiYWN0aXZhdGUiLCJfdGhpczkiLCJwcmV2ZW50RGVmYXVsdCIsIl90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uIiwiX3RoaXMxMCIsIl90aGlzMTEiLCJfcmVzZXRBZGp1c3RtZW50cyIsInJlc2V0IiwiX3RoaXMxMiIsImN1cnJlbnRUYXJnZXQiLCJfdGhpcyRfZWxlbWVudCIsInNjcm9sbEhlaWdodCIsImlzTW9kYWxPdmVyZmxvd2luZyIsIl90aGlzMTMiLCJjbGllbnRIZWlnaHQiLCJvdmVyZmxvd1kiLCJpc0JvZHlPdmVyZmxvd2luZyIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiZWFjaCIsImRhdGEiLCJnZXRPckNyZWF0ZUluc3RhbmNlIiwiX3RoaXMxNCIsInRhZ05hbWUiLCJzaG93RXZlbnQiLCJnZXRDbGllbnRSZWN0cyIsImdldFByb3BlcnR5VmFsdWUiLCJhbGxSZWFkeU9wZW4iLCJ0b2dnbGUiLCJjb21wb25lbnQiLCJtZXRob2QiLCJjbGlja0V2ZW50IiwibmFtZSIsImRpc2FibGVkIiwiaGFzQXR0cmlidXRlIiwiY2xvc2VzdCIsImVuYWJsZURpc21pc3NUcmlnZ2VyIiwialF1ZXJ5IiwiSlFVRVJZX05PX0NPTkZMSUNUIiwiJCIsImZuIiwialF1ZXJ5SW50ZXJmYWNlIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwicmVhZHlTdGF0ZSIsInB1c2giXSwibWFwcGluZ3MiOiJxbEhBS0MsU0FBVUEsRUFBUUMsR0FDRSxZQUFuQixvQkFBT0MsUUFBUCxZQUFBQyxRQUFPRCxXQUEwQyxvQkFBWEUsT0FBeUJBLE9BQU9GLFFBQVVELEVBQVFJLFFBQVEsaUJBQWtCQSxRQUFRLDJCQUN4RyxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQU1ELE9BQU8sQ0FBQyxhQUFjLHVCQUF3QkwsSUFDMUZELEVBQStCLG9CQUFmUSxXQUE2QkEsV0FBYVIsR0FBVVMsTUFBYUMsS0FBT1QsRUFBUUQsRUFBT1csS0FBTVgsRUFBT1ksY0FIdEgsTUFBQSxFQUlRLFNBQVVELEVBQU1DLEdBRXZCLFNBQVNDLEVBQXVCQyxHQUFLLE9BQU9BLEdBQWtCLFdBQWJYLFFBQU9XLElBQWtCLFlBQWFBLEVBQUlBLEVBQUksQ0FB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QWlSLEVBbUNRTCxFQUNBTSxFQUxGQyxHQS9CTkYsRUFDRXRRLE9BREZzUSxVQUdhOU8sU0FBU2tFLEtBQUt5SyxhQUFhLHFCQUNqQ0csRUFHRixLQTJCREUsSUFDSVAsRUFBTy9LLEVBQU9qQyxLQUNkc04sRUFBcUJDLEVBQUVDLEdBQUdSLEdBQ2hDTyxFQUFFQyxHQUFHUixHQUFRL0ssRUFBT3dMLGdCQUNwQkYsRUFBRUMsR0FBR1IsR0FBTVUsWUFBY3pMLEVBRXpCc0wsRUFBRUMsR0FBR1IsR0FBTVcsV0FBYSxXQUV0QixPQURBSixFQUFFQyxHQUFHUixHQUFRTSxFQUNOckwsRUFBT3dMLG1CQTdCUSxZQUF4QmxQLFNBQVNxUCxZQUVOdkwsRUFBMEIxRixRQUM3QjRCLFNBQVNWLGlCQUFpQixtQkFBb0IsV0FDNUN3RSxFQUEwQjVDLFFBQVEsU0FBQXJELEdBQVEsT0FBSUEsUUFJbERpRyxFQUEwQndMLEtBQUt6UixJQUUvQkEsSUErMEJHNkQiLCJmaWxlIjoiYm9vdHN0cmFwLXBsdWdpbnMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gICogQm9vdHN0cmFwIGJhc2UtY29tcG9uZW50LmpzIHY1LjEuMSAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tLylcbiAgKiBDb3B5cmlnaHQgMjAxMS0yMDIxIFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpXG4gICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9kb20vZGF0YS5qcycpLCByZXF1aXJlKCcuL2RvbS9ldmVudC1oYW5kbGVyLmpzJykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnLi9kb20vZGF0YScsICcuL2RvbS9ldmVudC1oYW5kbGVyJ10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLkJhc2UgPSBmYWN0b3J5KGdsb2JhbC5EYXRhLCBnbG9iYWwuRXZlbnRIYW5kbGVyKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoRGF0YSwgRXZlbnRIYW5kbGVyKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBfaW50ZXJvcERlZmF1bHRMZWdhY3kgKGUpIHsgcmV0dXJuIGUgJiYgdHlwZW9mIGUgPT09ICdvYmplY3QnICYmICdkZWZhdWx0JyBpbiBlID8gZSA6IHsgJ2RlZmF1bHQnOiBlIH07IH1cblxuICB2YXIgRGF0YV9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHRMZWdhY3koRGF0YSk7XG4gIHZhciBFdmVudEhhbmRsZXJfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KEV2ZW50SGFuZGxlcik7XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIEJvb3RzdHJhcCAodjUuMS4xKTogdXRpbC9pbmRleC5qc1xuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG4gIGNvbnN0IE1JTExJU0VDT05EU19NVUxUSVBMSUVSID0gMTAwMDtcbiAgY29uc3QgVFJBTlNJVElPTl9FTkQgPSAndHJhbnNpdGlvbmVuZCc7IC8vIFNob3V0b3V0IEFuZ3VzQ3JvbGwgKGh0dHBzOi8vZ29vLmdsL3B4d1FHcClcblxuICBjb25zdCBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCA9IGVsZW1lbnQgPT4ge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBHZXQgdHJhbnNpdGlvbi1kdXJhdGlvbiBvZiB0aGUgZWxlbWVudFxuXG5cbiAgICBsZXQge1xuICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgdHJhbnNpdGlvbkRlbGF5XG4gICAgfSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IGZsb2F0VHJhbnNpdGlvbkR1cmF0aW9uID0gTnVtYmVyLnBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICBjb25zdCBmbG9hdFRyYW5zaXRpb25EZWxheSA9IE51bWJlci5wYXJzZUZsb2F0KHRyYW5zaXRpb25EZWxheSk7IC8vIFJldHVybiAwIGlmIGVsZW1lbnQgb3IgdHJhbnNpdGlvbiBkdXJhdGlvbiBpcyBub3QgZm91bmRcblxuICAgIGlmICghZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gJiYgIWZsb2F0VHJhbnNpdGlvbkRlbGF5KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IC8vIElmIG11bHRpcGxlIGR1cmF0aW9ucyBhcmUgZGVmaW5lZCwgdGFrZSB0aGUgZmlyc3RcblxuXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uLnNwbGl0KCcsJylbMF07XG4gICAgdHJhbnNpdGlvbkRlbGF5ID0gdHJhbnNpdGlvbkRlbGF5LnNwbGl0KCcsJylbMF07XG4gICAgcmV0dXJuIChOdW1iZXIucGFyc2VGbG9hdCh0cmFuc2l0aW9uRHVyYXRpb24pICsgTnVtYmVyLnBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KSkgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUjtcbiAgfTtcblxuICBjb25zdCB0cmlnZ2VyVHJhbnNpdGlvbkVuZCA9IGVsZW1lbnQgPT4ge1xuICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoVFJBTlNJVElPTl9FTkQpKTtcbiAgfTtcblxuICBjb25zdCBpc0VsZW1lbnQgPSBvYmogPT4ge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmouanF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgb2JqID0gb2JqWzBdO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9PSAndW5kZWZpbmVkJztcbiAgfTtcblxuICBjb25zdCBnZXRFbGVtZW50ID0gb2JqID0+IHtcbiAgICBpZiAoaXNFbGVtZW50KG9iaikpIHtcbiAgICAgIC8vIGl0J3MgYSBqUXVlcnkgb2JqZWN0IG9yIGEgbm9kZSBlbGVtZW50XG4gICAgICByZXR1cm4gb2JqLmpxdWVyeSA/IG9ialswXSA6IG9iajtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycgJiYgb2JqLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9iaik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgY29uc3QgZXhlY3V0ZSA9IGNhbGxiYWNrID0+IHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBleGVjdXRlQWZ0ZXJUcmFuc2l0aW9uID0gKGNhbGxiYWNrLCB0cmFuc2l0aW9uRWxlbWVudCwgd2FpdEZvclRyYW5zaXRpb24gPSB0cnVlKSA9PiB7XG4gICAgaWYgKCF3YWl0Rm9yVHJhbnNpdGlvbikge1xuICAgICAgZXhlY3V0ZShjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZHVyYXRpb25QYWRkaW5nID0gNTtcbiAgICBjb25zdCBlbXVsYXRlZER1cmF0aW9uID0gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodHJhbnNpdGlvbkVsZW1lbnQpICsgZHVyYXRpb25QYWRkaW5nO1xuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGhhbmRsZXIgPSAoe1xuICAgICAgdGFyZ2V0XG4gICAgfSkgPT4ge1xuICAgICAgaWYgKHRhcmdldCAhPT0gdHJhbnNpdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgdHJhbnNpdGlvbkVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihUUkFOU0lUSU9OX0VORCwgaGFuZGxlcik7XG4gICAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgdHJhbnNpdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihUUkFOU0lUSU9OX0VORCwgaGFuZGxlcik7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICB0cmlnZ2VyVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRWxlbWVudCk7XG4gICAgICB9XG4gICAgfSwgZW11bGF0ZWREdXJhdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIEJvb3RzdHJhcCAodjUuMS4xKTogYmFzZS1jb21wb25lbnQuanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgY29uc3QgVkVSU0lPTiA9ICc1LjEuMSc7XG5cbiAgY2xhc3MgQmFzZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgZWxlbWVudCA9IGdldEVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgRGF0YV9fZGVmYXVsdFsnZGVmYXVsdCddLnNldCh0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLCB0aGlzKTtcbiAgICB9XG5cbiAgICBkaXNwb3NlKCkge1xuICAgICAgRGF0YV9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZSh0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKTtcbiAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9mZih0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkVWRU5UX0tFWSk7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKS5mb3JFYWNoKHByb3BlcnR5TmFtZSA9PiB7XG4gICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXSA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfcXVldWVDYWxsYmFjayhjYWxsYmFjaywgZWxlbWVudCwgaXNBbmltYXRlZCA9IHRydWUpIHtcbiAgICAgIGV4ZWN1dGVBZnRlclRyYW5zaXRpb24oY2FsbGJhY2ssIGVsZW1lbnQsIGlzQW5pbWF0ZWQpO1xuICAgIH1cbiAgICAvKiogU3RhdGljICovXG5cblxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbGVtZW50KSB7XG4gICAgICByZXR1cm4gRGF0YV9fZGVmYXVsdFsnZGVmYXVsdCddLmdldChnZXRFbGVtZW50KGVsZW1lbnQpLCB0aGlzLkRBVEFfS0VZKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0T3JDcmVhdGVJbnN0YW5jZShlbGVtZW50LCBjb25maWcgPSB7fSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoZWxlbWVudCkgfHwgbmV3IHRoaXMoZWxlbWVudCwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiBudWxsKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IFZFUlNJT04oKSB7XG4gICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBoYXZlIHRvIGltcGxlbWVudCB0aGUgc3RhdGljIG1ldGhvZCBcIk5BTUVcIiwgZm9yIGVhY2ggY29tcG9uZW50IScpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgREFUQV9LRVkoKSB7XG4gICAgICByZXR1cm4gYGJzLiR7dGhpcy5OQU1FfWA7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBFVkVOVF9LRVkoKSB7XG4gICAgICByZXR1cm4gYC4ke3RoaXMuREFUQV9LRVl9YDtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBCYXNlQ29tcG9uZW50O1xuXG59KSkpO1xuXG4iLCIvKiFcbiAgKiBCb290c3RyYXAgbW9kYWwuanMgdjUuMS4xIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKVxuICAqIENvcHlyaWdodCAyMDExLTIwMjEgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycylcbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL2RvbS9ldmVudC1oYW5kbGVyLmpzJyksIHJlcXVpcmUoJy4vZG9tL21hbmlwdWxhdG9yLmpzJyksIHJlcXVpcmUoJy4vZG9tL3NlbGVjdG9yLWVuZ2luZS5qcycpLCByZXF1aXJlKCcuL2Jhc2UtY29tcG9uZW50LmpzJykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnLi9kb20vZXZlbnQtaGFuZGxlcicsICcuL2RvbS9tYW5pcHVsYXRvcicsICcuL2RvbS9zZWxlY3Rvci1lbmdpbmUnLCAnLi9iYXNlLWNvbXBvbmVudCddLCBmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5Nb2RhbCA9IGZhY3RvcnkoZ2xvYmFsLkV2ZW50SGFuZGxlciwgZ2xvYmFsLk1hbmlwdWxhdG9yLCBnbG9iYWwuU2VsZWN0b3JFbmdpbmUsIGdsb2JhbC5CYXNlKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoRXZlbnRIYW5kbGVyLCBNYW5pcHVsYXRvciwgU2VsZWN0b3JFbmdpbmUsIEJhc2VDb21wb25lbnQpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdExlZ2FjeSAoZSkgeyByZXR1cm4gZSAmJiB0eXBlb2YgZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGUgPyBlIDogeyAnZGVmYXVsdCc6IGUgfTsgfVxuXG4gIHZhciBFdmVudEhhbmRsZXJfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KEV2ZW50SGFuZGxlcik7XG4gIHZhciBNYW5pcHVsYXRvcl9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHRMZWdhY3koTWFuaXB1bGF0b3IpO1xuICB2YXIgU2VsZWN0b3JFbmdpbmVfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KFNlbGVjdG9yRW5naW5lKTtcbiAgdmFyIEJhc2VDb21wb25lbnRfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KEJhc2VDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY1LjEuMSk6IHV0aWwvaW5kZXguanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICBjb25zdCBNSUxMSVNFQ09ORFNfTVVMVElQTElFUiA9IDEwMDA7XG4gIGNvbnN0IFRSQU5TSVRJT05fRU5EID0gJ3RyYW5zaXRpb25lbmQnOyAvLyBTaG91dG91dCBBbmd1c0Nyb2xsIChodHRwczovL2dvby5nbC9weHdRR3ApXG5cbiAgY29uc3QgdG9UeXBlID0gb2JqID0+IHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gYCR7b2JqfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKS5tYXRjaCgvXFxzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKTtcbiAgfTtcblxuICBjb25zdCBnZXRTZWxlY3RvciA9IGVsZW1lbnQgPT4ge1xuICAgIGxldCBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWJzLXRhcmdldCcpO1xuXG4gICAgaWYgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gJyMnKSB7XG4gICAgICBsZXQgaHJlZkF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpOyAvLyBUaGUgb25seSB2YWxpZCBjb250ZW50IHRoYXQgY291bGQgZG91YmxlIGFzIGEgc2VsZWN0b3IgYXJlIElEcyBvciBjbGFzc2VzLFxuICAgICAgLy8gc28gZXZlcnl0aGluZyBzdGFydGluZyB3aXRoIGAjYCBvciBgLmAuIElmIGEgXCJyZWFsXCIgVVJMIGlzIHVzZWQgYXMgdGhlIHNlbGVjdG9yLFxuICAgICAgLy8gYGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JgIHdpbGwgcmlnaHRmdWxseSBjb21wbGFpbiBpdCBpcyBpbnZhbGlkLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMzIyNzNcblxuICAgICAgaWYgKCFocmVmQXR0ciB8fCAhaHJlZkF0dHIuaW5jbHVkZXMoJyMnKSAmJiAhaHJlZkF0dHIuc3RhcnRzV2l0aCgnLicpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSAvLyBKdXN0IGluIGNhc2Ugc29tZSBDTVMgcHV0cyBvdXQgYSBmdWxsIFVSTCB3aXRoIHRoZSBhbmNob3IgYXBwZW5kZWRcblxuXG4gICAgICBpZiAoaHJlZkF0dHIuaW5jbHVkZXMoJyMnKSAmJiAhaHJlZkF0dHIuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgIGhyZWZBdHRyID0gYCMke2hyZWZBdHRyLnNwbGl0KCcjJylbMV19YDtcbiAgICAgIH1cblxuICAgICAgc2VsZWN0b3IgPSBocmVmQXR0ciAmJiBocmVmQXR0ciAhPT0gJyMnID8gaHJlZkF0dHIudHJpbSgpIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH07XG5cbiAgY29uc3QgZ2V0RWxlbWVudEZyb21TZWxlY3RvciA9IGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IHNlbGVjdG9yID0gZ2V0U2VsZWN0b3IoZWxlbWVudCk7XG4gICAgcmV0dXJuIHNlbGVjdG9yID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgOiBudWxsO1xuICB9O1xuXG4gIGNvbnN0IGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50ID0gZWxlbWVudCA9PiB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IC8vIEdldCB0cmFuc2l0aW9uLWR1cmF0aW9uIG9mIHRoZSBlbGVtZW50XG5cblxuICAgIGxldCB7XG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICB0cmFuc2l0aW9uRGVsYXlcbiAgICB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gPSBOdW1iZXIucGFyc2VGbG9hdCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgIGNvbnN0IGZsb2F0VHJhbnNpdGlvbkRlbGF5ID0gTnVtYmVyLnBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KTsgLy8gUmV0dXJuIDAgaWYgZWxlbWVudCBvciB0cmFuc2l0aW9uIGR1cmF0aW9uIGlzIG5vdCBmb3VuZFxuXG4gICAgaWYgKCFmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiAmJiAhZmxvYXRUcmFuc2l0aW9uRGVsYXkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gLy8gSWYgbXVsdGlwbGUgZHVyYXRpb25zIGFyZSBkZWZpbmVkLCB0YWtlIHRoZSBmaXJzdFxuXG5cbiAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSB0cmFuc2l0aW9uRHVyYXRpb24uc3BsaXQoJywnKVswXTtcbiAgICB0cmFuc2l0aW9uRGVsYXkgPSB0cmFuc2l0aW9uRGVsYXkuc3BsaXQoJywnKVswXTtcbiAgICByZXR1cm4gKE51bWJlci5wYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbikgKyBOdW1iZXIucGFyc2VGbG9hdCh0cmFuc2l0aW9uRGVsYXkpKSAqIE1JTExJU0VDT05EU19NVUxUSVBMSUVSO1xuICB9O1xuXG4gIGNvbnN0IHRyaWdnZXJUcmFuc2l0aW9uRW5kID0gZWxlbWVudCA9PiB7XG4gICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChUUkFOU0lUSU9OX0VORCkpO1xuICB9O1xuXG4gIGNvbnN0IGlzRWxlbWVudCA9IG9iaiA9PiB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iai5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvYmogPSBvYmpbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09ICd1bmRlZmluZWQnO1xuICB9O1xuXG4gIGNvbnN0IGdldEVsZW1lbnQgPSBvYmogPT4ge1xuICAgIGlmIChpc0VsZW1lbnQob2JqKSkge1xuICAgICAgLy8gaXQncyBhIGpRdWVyeSBvYmplY3Qgb3IgYSBub2RlIGVsZW1lbnRcbiAgICAgIHJldHVybiBvYmouanF1ZXJ5ID8gb2JqWzBdIDogb2JqO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyAmJiBvYmoubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob2JqKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCB0eXBlQ2hlY2tDb25maWcgPSAoY29tcG9uZW50TmFtZSwgY29uZmlnLCBjb25maWdUeXBlcykgPT4ge1xuICAgIE9iamVjdC5rZXlzKGNvbmZpZ1R5cGVzKS5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBjb25maWdUeXBlc1twcm9wZXJ0eV07XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbmZpZ1twcm9wZXJ0eV07XG4gICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiBpc0VsZW1lbnQodmFsdWUpID8gJ2VsZW1lbnQnIDogdG9UeXBlKHZhbHVlKTtcblxuICAgICAgaWYgKCFuZXcgUmVnRXhwKGV4cGVjdGVkVHlwZXMpLnRlc3QodmFsdWVUeXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbXBvbmVudE5hbWUudG9VcHBlckNhc2UoKX06IE9wdGlvbiBcIiR7cHJvcGVydHl9XCIgcHJvdmlkZWQgdHlwZSBcIiR7dmFsdWVUeXBlfVwiIGJ1dCBleHBlY3RlZCB0eXBlIFwiJHtleHBlY3RlZFR5cGVzfVwiLmApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGlzVmlzaWJsZSA9IGVsZW1lbnQgPT4ge1xuICAgIGlmICghaXNFbGVtZW50KGVsZW1lbnQpIHx8IGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCd2aXNpYmlsaXR5JykgPT09ICd2aXNpYmxlJztcbiAgfTtcblxuICBjb25zdCBpc0Rpc2FibGVkID0gZWxlbWVudCA9PiB7XG4gICAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnQubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZWxlbWVudC5kaXNhYmxlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmRpc2FibGVkO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSAhPT0gJ2ZhbHNlJztcbiAgfTtcbiAgLyoqXG4gICAqIFRyaWNrIHRvIHJlc3RhcnQgYW4gZWxlbWVudCdzIGFuaW1hdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vd3d3LmNoYXJpc3RoZW8uaW8vYmxvZy8yMDIxLzAyL3Jlc3RhcnQtYS1jc3MtYW5pbWF0aW9uLXdpdGgtamF2YXNjcmlwdC8jcmVzdGFydGluZy1hLWNzcy1hbmltYXRpb25cbiAgICovXG5cblxuICBjb25zdCByZWZsb3cgPSBlbGVtZW50ID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gIH07XG5cbiAgY29uc3QgZ2V0alF1ZXJ5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGpRdWVyeVxuICAgIH0gPSB3aW5kb3c7XG5cbiAgICBpZiAoalF1ZXJ5ICYmICFkb2N1bWVudC5ib2R5Lmhhc0F0dHJpYnV0ZSgnZGF0YS1icy1uby1qcXVlcnknKSkge1xuICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCBET01Db250ZW50TG9hZGVkQ2FsbGJhY2tzID0gW107XG5cbiAgY29uc3Qgb25ET01Db250ZW50TG9hZGVkID0gY2FsbGJhY2sgPT4ge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgIC8vIGFkZCBsaXN0ZW5lciBvbiB0aGUgZmlyc3QgY2FsbCB3aGVuIHRoZSBkb2N1bWVudCBpcyBpbiBsb2FkaW5nIHN0YXRlXG4gICAgICBpZiAoIURPTUNvbnRlbnRMb2FkZWRDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgICAgICAgRE9NQ29udGVudExvYWRlZENhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgRE9NQ29udGVudExvYWRlZENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaXNSVEwgPSAoKSA9PiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGlyID09PSAncnRsJztcblxuICBjb25zdCBkZWZpbmVKUXVlcnlQbHVnaW4gPSBwbHVnaW4gPT4ge1xuICAgIG9uRE9NQ29udGVudExvYWRlZCgoKSA9PiB7XG4gICAgICBjb25zdCAkID0gZ2V0alF1ZXJ5KCk7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblxuICAgICAgaWYgKCQpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHBsdWdpbi5OQU1FO1xuICAgICAgICBjb25zdCBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkLmZuW25hbWVdO1xuICAgICAgICAkLmZuW25hbWVdID0gcGx1Z2luLmpRdWVyeUludGVyZmFjZTtcbiAgICAgICAgJC5mbltuYW1lXS5Db25zdHJ1Y3RvciA9IHBsdWdpbjtcblxuICAgICAgICAkLmZuW25hbWVdLm5vQ29uZmxpY3QgPSAoKSA9PiB7XG4gICAgICAgICAgJC5mbltuYW1lXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICAgICAgICByZXR1cm4gcGx1Z2luLmpRdWVyeUludGVyZmFjZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBleGVjdXRlID0gY2FsbGJhY2sgPT4ge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGV4ZWN1dGVBZnRlclRyYW5zaXRpb24gPSAoY2FsbGJhY2ssIHRyYW5zaXRpb25FbGVtZW50LCB3YWl0Rm9yVHJhbnNpdGlvbiA9IHRydWUpID0+IHtcbiAgICBpZiAoIXdhaXRGb3JUcmFuc2l0aW9uKSB7XG4gICAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkdXJhdGlvblBhZGRpbmcgPSA1O1xuICAgIGNvbnN0IGVtdWxhdGVkRHVyYXRpb24gPSBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0cmFuc2l0aW9uRWxlbWVudCkgKyBkdXJhdGlvblBhZGRpbmc7XG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgaGFuZGxlciA9ICh7XG4gICAgICB0YXJnZXRcbiAgICB9KSA9PiB7XG4gICAgICBpZiAodGFyZ2V0ICE9PSB0cmFuc2l0aW9uRWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICB0cmFuc2l0aW9uRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFRSQU5TSVRJT05fRU5ELCBoYW5kbGVyKTtcbiAgICAgIGV4ZWN1dGUoY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICB0cmFuc2l0aW9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFRSQU5TSVRJT05fRU5ELCBoYW5kbGVyKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgIHRyaWdnZXJUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25FbGVtZW50KTtcbiAgICAgIH1cbiAgICB9LCBlbXVsYXRlZER1cmF0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NS4xLjEpOiB1dGlsL3Njcm9sbEJhci5qc1xuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG4gIGNvbnN0IFNFTEVDVE9SX0ZJWEVEX0NPTlRFTlQgPSAnLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCc7XG4gIGNvbnN0IFNFTEVDVE9SX1NUSUNLWV9DT05URU5UID0gJy5zdGlja3ktdG9wJztcblxuICBjbGFzcyBTY3JvbGxCYXJIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG4gICAgfVxuXG4gICAgZ2V0V2lkdGgoKSB7XG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L2lubmVyV2lkdGgjdXNhZ2Vfbm90ZXNcbiAgICAgIGNvbnN0IGRvY3VtZW50V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICByZXR1cm4gTWF0aC5hYnMod2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudFdpZHRoKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG5cbiAgICAgIHRoaXMuX2Rpc2FibGVPdmVyRmxvdygpOyAvLyBnaXZlIHBhZGRpbmcgdG8gZWxlbWVudCB0byBiYWxhbmNlIHRoZSBoaWRkZW4gc2Nyb2xsYmFyIHdpZHRoXG5cblxuICAgICAgdGhpcy5fc2V0RWxlbWVudEF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCwgJ3BhZGRpbmdSaWdodCcsIGNhbGN1bGF0ZWRWYWx1ZSA9PiBjYWxjdWxhdGVkVmFsdWUgKyB3aWR0aCk7IC8vIHRyaWNrOiBXZSBhZGp1c3QgcG9zaXRpdmUgcGFkZGluZ1JpZ2h0IGFuZCBuZWdhdGl2ZSBtYXJnaW5SaWdodCB0byBzdGlja3ktdG9wIGVsZW1lbnRzIHRvIGtlZXAgc2hvd2luZyBmdWxsd2lkdGhcblxuXG4gICAgICB0aGlzLl9zZXRFbGVtZW50QXR0cmlidXRlcyhTRUxFQ1RPUl9GSVhFRF9DT05URU5ULCAncGFkZGluZ1JpZ2h0JywgY2FsY3VsYXRlZFZhbHVlID0+IGNhbGN1bGF0ZWRWYWx1ZSArIHdpZHRoKTtcblxuICAgICAgdGhpcy5fc2V0RWxlbWVudEF0dHJpYnV0ZXMoU0VMRUNUT1JfU1RJQ0tZX0NPTlRFTlQsICdtYXJnaW5SaWdodCcsIGNhbGN1bGF0ZWRWYWx1ZSA9PiBjYWxjdWxhdGVkVmFsdWUgLSB3aWR0aCk7XG4gICAgfVxuXG4gICAgX2Rpc2FibGVPdmVyRmxvdygpIHtcbiAgICAgIHRoaXMuX3NhdmVJbml0aWFsQXR0cmlidXRlKHRoaXMuX2VsZW1lbnQsICdvdmVyZmxvdycpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgfVxuXG4gICAgX3NldEVsZW1lbnRBdHRyaWJ1dGVzKHNlbGVjdG9yLCBzdHlsZVByb3AsIGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCBzY3JvbGxiYXJXaWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTtcblxuICAgICAgY29uc3QgbWFuaXB1bGF0aW9uQ2FsbEJhY2sgPSBlbGVtZW50ID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQgIT09IHRoaXMuX2VsZW1lbnQgJiYgd2luZG93LmlubmVyV2lkdGggPiBlbGVtZW50LmNsaWVudFdpZHRoICsgc2Nyb2xsYmFyV2lkdGgpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zYXZlSW5pdGlhbEF0dHJpYnV0ZShlbGVtZW50LCBzdHlsZVByb3ApO1xuXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRWYWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpW3N0eWxlUHJvcF07XG4gICAgICAgIGVsZW1lbnQuc3R5bGVbc3R5bGVQcm9wXSA9IGAke2NhbGxiYWNrKE51bWJlci5wYXJzZUZsb2F0KGNhbGN1bGF0ZWRWYWx1ZSkpfXB4YDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX2FwcGx5TWFuaXB1bGF0aW9uQ2FsbGJhY2soc2VsZWN0b3IsIG1hbmlwdWxhdGlvbkNhbGxCYWNrKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgIHRoaXMuX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCwgJ292ZXJmbG93Jyk7XG5cbiAgICAgIHRoaXMuX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCwgJ3BhZGRpbmdSaWdodCcpO1xuXG4gICAgICB0aGlzLl9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKFNFTEVDVE9SX0ZJWEVEX0NPTlRFTlQsICdwYWRkaW5nUmlnaHQnKTtcblxuICAgICAgdGhpcy5fcmVzZXRFbGVtZW50QXR0cmlidXRlcyhTRUxFQ1RPUl9TVElDS1lfQ09OVEVOVCwgJ21hcmdpblJpZ2h0Jyk7XG4gICAgfVxuXG4gICAgX3NhdmVJbml0aWFsQXR0cmlidXRlKGVsZW1lbnQsIHN0eWxlUHJvcCkge1xuICAgICAgY29uc3QgYWN0dWFsVmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlUHJvcF07XG5cbiAgICAgIGlmIChhY3R1YWxWYWx1ZSkge1xuICAgICAgICBNYW5pcHVsYXRvcl9fZGVmYXVsdFsnZGVmYXVsdCddLnNldERhdGFBdHRyaWJ1dGUoZWxlbWVudCwgc3R5bGVQcm9wLCBhY3R1YWxWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMoc2VsZWN0b3IsIHN0eWxlUHJvcCkge1xuICAgICAgY29uc3QgbWFuaXB1bGF0aW9uQ2FsbEJhY2sgPSBlbGVtZW50ID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBNYW5pcHVsYXRvcl9fZGVmYXVsdFsnZGVmYXVsdCddLmdldERhdGFBdHRyaWJ1dGUoZWxlbWVudCwgc3R5bGVQcm9wKTtcblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoc3R5bGVQcm9wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBNYW5pcHVsYXRvcl9fZGVmYXVsdFsnZGVmYXVsdCddLnJlbW92ZURhdGFBdHRyaWJ1dGUoZWxlbWVudCwgc3R5bGVQcm9wKTtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlW3N0eWxlUHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5fYXBwbHlNYW5pcHVsYXRpb25DYWxsYmFjayhzZWxlY3RvciwgbWFuaXB1bGF0aW9uQ2FsbEJhY2spO1xuICAgIH1cblxuICAgIF9hcHBseU1hbmlwdWxhdGlvbkNhbGxiYWNrKHNlbGVjdG9yLCBjYWxsQmFjaykge1xuICAgICAgaWYgKGlzRWxlbWVudChzZWxlY3RvcikpIHtcbiAgICAgICAgY2FsbEJhY2soc2VsZWN0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU2VsZWN0b3JFbmdpbmVfX2RlZmF1bHRbJ2RlZmF1bHQnXS5maW5kKHNlbGVjdG9yLCB0aGlzLl9lbGVtZW50KS5mb3JFYWNoKGNhbGxCYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpc092ZXJmbG93aW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0V2lkdGgoKSA+IDA7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NS4xLjEpOiB1dGlsL2JhY2tkcm9wLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICBjb25zdCBEZWZhdWx0JDIgPSB7XG4gICAgY2xhc3NOYW1lOiAnbW9kYWwtYmFja2Ryb3AnLFxuICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAvLyBpZiBmYWxzZSwgd2UgdXNlIHRoZSBiYWNrZHJvcCBoZWxwZXIgd2l0aG91dCBhZGRpbmcgYW55IGVsZW1lbnQgdG8gdGhlIGRvbVxuICAgIGlzQW5pbWF0ZWQ6IGZhbHNlLFxuICAgIHJvb3RFbGVtZW50OiAnYm9keScsXG4gICAgLy8gZ2l2ZSB0aGUgY2hvaWNlIHRvIHBsYWNlIGJhY2tkcm9wIHVuZGVyIGRpZmZlcmVudCBlbGVtZW50c1xuICAgIGNsaWNrQ2FsbGJhY2s6IG51bGxcbiAgfTtcbiAgY29uc3QgRGVmYXVsdFR5cGUkMiA9IHtcbiAgICBjbGFzc05hbWU6ICdzdHJpbmcnLFxuICAgIGlzVmlzaWJsZTogJ2Jvb2xlYW4nLFxuICAgIGlzQW5pbWF0ZWQ6ICdib29sZWFuJyxcbiAgICByb290RWxlbWVudDogJyhlbGVtZW50fHN0cmluZyknLFxuICAgIGNsaWNrQ2FsbGJhY2s6ICcoZnVuY3Rpb258bnVsbCknXG4gIH07XG4gIGNvbnN0IE5BTUUkMiA9ICdiYWNrZHJvcCc7XG4gIGNvbnN0IENMQVNTX05BTUVfRkFERSQxID0gJ2ZhZGUnO1xuICBjb25zdCBDTEFTU19OQU1FX1NIT1ckMSA9ICdzaG93JztcbiAgY29uc3QgRVZFTlRfTU9VU0VET1dOID0gYG1vdXNlZG93bi5icy4ke05BTUUkMn1gO1xuXG4gIGNsYXNzIEJhY2tkcm9wIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5faXNBcHBlbmRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgc2hvdyhjYWxsYmFjaykge1xuICAgICAgaWYgKCF0aGlzLl9jb25maWcuaXNWaXNpYmxlKSB7XG4gICAgICAgIGV4ZWN1dGUoY2FsbGJhY2spO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FwcGVuZCgpO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmlzQW5pbWF0ZWQpIHtcbiAgICAgICAgcmVmbG93KHRoaXMuX2dldEVsZW1lbnQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2dldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQxKTtcblxuICAgICAgdGhpcy5fZW11bGF0ZUFuaW1hdGlvbigoKSA9PiB7XG4gICAgICAgIGV4ZWN1dGUoY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGlkZShjYWxsYmFjaykge1xuICAgICAgaWYgKCF0aGlzLl9jb25maWcuaXNWaXNpYmxlKSB7XG4gICAgICAgIGV4ZWN1dGUoY2FsbGJhY2spO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2dldEVsZW1lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyQxKTtcblxuICAgICAgdGhpcy5fZW11bGF0ZUFuaW1hdGlvbigoKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gUHJpdmF0ZVxuXG5cbiAgICBfZ2V0RWxlbWVudCgpIHtcbiAgICAgIGlmICghdGhpcy5fZWxlbWVudCkge1xuICAgICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSB0aGlzLl9jb25maWcuY2xhc3NOYW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuaXNBbmltYXRlZCkge1xuICAgICAgICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9GQURFJDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGJhY2tkcm9wO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG5cbiAgICBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0geyAuLi5EZWZhdWx0JDIsXG4gICAgICAgIC4uLih0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IHt9KVxuICAgICAgfTsgLy8gdXNlIGdldEVsZW1lbnQoKSB3aXRoIHRoZSBkZWZhdWx0IFwiYm9keVwiIHRvIGdldCBhIGZyZXNoIEVsZW1lbnQgb24gZWFjaCBpbnN0YW50aWF0aW9uXG5cbiAgICAgIGNvbmZpZy5yb290RWxlbWVudCA9IGdldEVsZW1lbnQoY29uZmlnLnJvb3RFbGVtZW50KTtcbiAgICAgIHR5cGVDaGVja0NvbmZpZyhOQU1FJDIsIGNvbmZpZywgRGVmYXVsdFR5cGUkMik7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIF9hcHBlbmQoKSB7XG4gICAgICBpZiAodGhpcy5faXNBcHBlbmRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NvbmZpZy5yb290RWxlbWVudC5hcHBlbmQodGhpcy5fZ2V0RWxlbWVudCgpKTtcblxuICAgICAgRXZlbnRIYW5kbGVyX19kZWZhdWx0WydkZWZhdWx0J10ub24odGhpcy5fZ2V0RWxlbWVudCgpLCBFVkVOVF9NT1VTRURPV04sICgpID0+IHtcbiAgICAgICAgZXhlY3V0ZSh0aGlzLl9jb25maWcuY2xpY2tDYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2lzQXBwZW5kZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzQXBwZW5kZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vZmYodGhpcy5fZWxlbWVudCwgRVZFTlRfTU9VU0VET1dOKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcblxuICAgICAgdGhpcy5faXNBcHBlbmRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9lbXVsYXRlQW5pbWF0aW9uKGNhbGxiYWNrKSB7XG4gICAgICBleGVjdXRlQWZ0ZXJUcmFuc2l0aW9uKGNhbGxiYWNrLCB0aGlzLl9nZXRFbGVtZW50KCksIHRoaXMuX2NvbmZpZy5pc0FuaW1hdGVkKTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY1LjEuMSk6IHV0aWwvZm9jdXN0cmFwLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICBjb25zdCBEZWZhdWx0JDEgPSB7XG4gICAgdHJhcEVsZW1lbnQ6IG51bGwsXG4gICAgLy8gVGhlIGVsZW1lbnQgdG8gdHJhcCBmb2N1cyBpbnNpZGUgb2ZcbiAgICBhdXRvZm9jdXM6IHRydWVcbiAgfTtcbiAgY29uc3QgRGVmYXVsdFR5cGUkMSA9IHtcbiAgICB0cmFwRWxlbWVudDogJ2VsZW1lbnQnLFxuICAgIGF1dG9mb2N1czogJ2Jvb2xlYW4nXG4gIH07XG4gIGNvbnN0IE5BTUUkMSA9ICdmb2N1c3RyYXAnO1xuICBjb25zdCBEQVRBX0tFWSQxID0gJ2JzLmZvY3VzdHJhcCc7XG4gIGNvbnN0IEVWRU5UX0tFWSQxID0gYC4ke0RBVEFfS0VZJDF9YDtcbiAgY29uc3QgRVZFTlRfRk9DVVNJTiA9IGBmb2N1c2luJHtFVkVOVF9LRVkkMX1gO1xuICBjb25zdCBFVkVOVF9LRVlET1dOX1RBQiA9IGBrZXlkb3duLnRhYiR7RVZFTlRfS0VZJDF9YDtcbiAgY29uc3QgVEFCX0tFWSA9ICdUYWInO1xuICBjb25zdCBUQUJfTkFWX0ZPUldBUkQgPSAnZm9yd2FyZCc7XG4gIGNvbnN0IFRBQl9OQVZfQkFDS1dBUkQgPSAnYmFja3dhcmQnO1xuXG4gIGNsYXNzIEZvY3VzVHJhcCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLl9sYXN0VGFiTmF2RGlyZWN0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZSgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdHJhcEVsZW1lbnQsXG4gICAgICAgIGF1dG9mb2N1c1xuICAgICAgfSA9IHRoaXMuX2NvbmZpZztcblxuICAgICAgaWYgKHRoaXMuX2lzQWN0aXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGF1dG9mb2N1cykge1xuICAgICAgICB0cmFwRWxlbWVudC5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vZmYoZG9jdW1lbnQsIEVWRU5UX0tFWSQxKTsgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG5cbiAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9uKGRvY3VtZW50LCBFVkVOVF9GT0NVU0lOLCBldmVudCA9PiB0aGlzLl9oYW5kbGVGb2N1c2luKGV2ZW50KSk7XG4gICAgICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vbihkb2N1bWVudCwgRVZFTlRfS0VZRE9XTl9UQUIsIGV2ZW50ID0+IHRoaXMuX2hhbmRsZUtleWRvd24oZXZlbnQpKTtcbiAgICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBkZWFjdGl2YXRlKCkge1xuICAgICAgaWYgKCF0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vZmYoZG9jdW1lbnQsIEVWRU5UX0tFWSQxKTtcbiAgICB9IC8vIFByaXZhdGVcblxuXG4gICAgX2hhbmRsZUZvY3VzaW4oZXZlbnQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdGFyZ2V0XG4gICAgICB9ID0gZXZlbnQ7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHRyYXBFbGVtZW50XG4gICAgICB9ID0gdGhpcy5fY29uZmlnO1xuXG4gICAgICBpZiAodGFyZ2V0ID09PSBkb2N1bWVudCB8fCB0YXJnZXQgPT09IHRyYXBFbGVtZW50IHx8IHRyYXBFbGVtZW50LmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlbGVtZW50cyA9IFNlbGVjdG9yRW5naW5lX19kZWZhdWx0WydkZWZhdWx0J10uZm9jdXNhYmxlQ2hpbGRyZW4odHJhcEVsZW1lbnQpO1xuXG4gICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRyYXBFbGVtZW50LmZvY3VzKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2xhc3RUYWJOYXZEaXJlY3Rpb24gPT09IFRBQl9OQVZfQkFDS1dBUkQpIHtcbiAgICAgICAgZWxlbWVudHNbZWxlbWVudHMubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnRzWzBdLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hhbmRsZUtleWRvd24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXkgIT09IFRBQl9LRVkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9sYXN0VGFiTmF2RGlyZWN0aW9uID0gZXZlbnQuc2hpZnRLZXkgPyBUQUJfTkFWX0JBQ0tXQVJEIDogVEFCX05BVl9GT1JXQVJEO1xuICAgIH1cblxuICAgIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSB7IC4uLkRlZmF1bHQkMSxcbiAgICAgICAgLi4uKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDoge30pXG4gICAgICB9O1xuICAgICAgdHlwZUNoZWNrQ29uZmlnKE5BTUUkMSwgY29uZmlnLCBEZWZhdWx0VHlwZSQxKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NS4xLjEpOiB1dGlsL2NvbXBvbmVudC1mdW5jdGlvbnMuanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIGNvbnN0IGVuYWJsZURpc21pc3NUcmlnZ2VyID0gKGNvbXBvbmVudCwgbWV0aG9kID0gJ2hpZGUnKSA9PiB7XG4gICAgY29uc3QgY2xpY2tFdmVudCA9IGBjbGljay5kaXNtaXNzJHtjb21wb25lbnQuRVZFTlRfS0VZfWA7XG4gICAgY29uc3QgbmFtZSA9IGNvbXBvbmVudC5OQU1FO1xuICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9uKGRvY3VtZW50LCBjbGlja0V2ZW50LCBgW2RhdGEtYnMtZGlzbWlzcz1cIiR7bmFtZX1cIl1gLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChbJ0EnLCAnQVJFQSddLmluY2x1ZGVzKHRoaXMudGFnTmFtZSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGlzYWJsZWQodGhpcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXQgPSBnZXRFbGVtZW50RnJvbVNlbGVjdG9yKHRoaXMpIHx8IHRoaXMuY2xvc2VzdChgLiR7bmFtZX1gKTtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gY29tcG9uZW50LmdldE9yQ3JlYXRlSW5zdGFuY2UodGFyZ2V0KTsgLy8gTWV0aG9kIGFyZ3VtZW50IGlzIGxlZnQsIGZvciBBbGVydCBhbmQgb25seSwgYXMgaXQgZG9lc24ndCBpbXBsZW1lbnQgdGhlICdoaWRlJyBtZXRob2RcblxuICAgICAgaW5zdGFuY2VbbWV0aG9kXSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY1LjEuMSk6IG1vZGFsLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIGNvbnN0IE5BTUUgPSAnbW9kYWwnO1xuICBjb25zdCBEQVRBX0tFWSA9ICdicy5tb2RhbCc7XG4gIGNvbnN0IEVWRU5UX0tFWSA9IGAuJHtEQVRBX0tFWX1gO1xuICBjb25zdCBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgY29uc3QgRVNDQVBFX0tFWSA9ICdFc2NhcGUnO1xuICBjb25zdCBEZWZhdWx0ID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIGZvY3VzOiB0cnVlXG4gIH07XG4gIGNvbnN0IERlZmF1bHRUeXBlID0ge1xuICAgIGJhY2tkcm9wOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgICBmb2N1czogJ2Jvb2xlYW4nXG4gIH07XG4gIGNvbnN0IEVWRU5UX0hJREUgPSBgaGlkZSR7RVZFTlRfS0VZfWA7XG4gIGNvbnN0IEVWRU5UX0hJREVfUFJFVkVOVEVEID0gYGhpZGVQcmV2ZW50ZWQke0VWRU5UX0tFWX1gO1xuICBjb25zdCBFVkVOVF9ISURERU4gPSBgaGlkZGVuJHtFVkVOVF9LRVl9YDtcbiAgY29uc3QgRVZFTlRfU0hPVyA9IGBzaG93JHtFVkVOVF9LRVl9YDtcbiAgY29uc3QgRVZFTlRfU0hPV04gPSBgc2hvd24ke0VWRU5UX0tFWX1gO1xuICBjb25zdCBFVkVOVF9SRVNJWkUgPSBgcmVzaXplJHtFVkVOVF9LRVl9YDtcbiAgY29uc3QgRVZFTlRfQ0xJQ0tfRElTTUlTUyA9IGBjbGljay5kaXNtaXNzJHtFVkVOVF9LRVl9YDtcbiAgY29uc3QgRVZFTlRfS0VZRE9XTl9ESVNNSVNTID0gYGtleWRvd24uZGlzbWlzcyR7RVZFTlRfS0VZfWA7XG4gIGNvbnN0IEVWRU5UX01PVVNFVVBfRElTTUlTUyA9IGBtb3VzZXVwLmRpc21pc3Mke0VWRU5UX0tFWX1gO1xuICBjb25zdCBFVkVOVF9NT1VTRURPV05fRElTTUlTUyA9IGBtb3VzZWRvd24uZGlzbWlzcyR7RVZFTlRfS0VZfWA7XG4gIGNvbnN0IEVWRU5UX0NMSUNLX0RBVEFfQVBJID0gYGNsaWNrJHtFVkVOVF9LRVl9JHtEQVRBX0FQSV9LRVl9YDtcbiAgY29uc3QgQ0xBU1NfTkFNRV9PUEVOID0gJ21vZGFsLW9wZW4nO1xuICBjb25zdCBDTEFTU19OQU1FX0ZBREUgPSAnZmFkZSc7XG4gIGNvbnN0IENMQVNTX05BTUVfU0hPVyA9ICdzaG93JztcbiAgY29uc3QgQ0xBU1NfTkFNRV9TVEFUSUMgPSAnbW9kYWwtc3RhdGljJztcbiAgY29uc3QgT1BFTl9TRUxFQ1RPUiA9ICcubW9kYWwuc2hvdyc7XG4gIGNvbnN0IFNFTEVDVE9SX0RJQUxPRyA9ICcubW9kYWwtZGlhbG9nJztcbiAgY29uc3QgU0VMRUNUT1JfTU9EQUxfQk9EWSA9ICcubW9kYWwtYm9keSc7XG4gIGNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFID0gJ1tkYXRhLWJzLXRvZ2dsZT1cIm1vZGFsXCJdJztcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDbGFzcyBEZWZpbml0aW9uXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICBjbGFzcyBNb2RhbCBleHRlbmRzIEJhc2VDb21wb25lbnRfX2RlZmF1bHRbJ2RlZmF1bHQnXSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fZGlhbG9nID0gU2VsZWN0b3JFbmdpbmVfX2RlZmF1bHRbJ2RlZmF1bHQnXS5maW5kT25lKFNFTEVDVE9SX0RJQUxPRywgdGhpcy5fZWxlbWVudCk7XG4gICAgICB0aGlzLl9iYWNrZHJvcCA9IHRoaXMuX2luaXRpYWxpemVCYWNrRHJvcCgpO1xuICAgICAgdGhpcy5fZm9jdXN0cmFwID0gdGhpcy5faW5pdGlhbGl6ZUZvY3VzVHJhcCgpO1xuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9zY3JvbGxCYXIgPSBuZXcgU2Nyb2xsQmFySGVscGVyKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICAgIHJldHVybiBOQU1FO1xuICAgIH0gLy8gUHVibGljXG5cblxuICAgIHRvZ2dsZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgIH1cblxuICAgIHNob3cocmVsYXRlZFRhcmdldCkge1xuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gfHwgdGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2hvd0V2ZW50ID0gRXZlbnRIYW5kbGVyX19kZWZhdWx0WydkZWZhdWx0J10udHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9TSE9XLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2hvd0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMuX2lzQW5pbWF0ZWQoKSkge1xuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zY3JvbGxCYXIuaGlkZSgpO1xuXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9PUEVOKTtcblxuICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG5cbiAgICAgIHRoaXMuX3NldEVzY2FwZUV2ZW50KCk7XG5cbiAgICAgIHRoaXMuX3NldFJlc2l6ZUV2ZW50KCk7XG5cbiAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9uKHRoaXMuX2RpYWxvZywgRVZFTlRfTU9VU0VET1dOX0RJU01JU1MsICgpID0+IHtcbiAgICAgICAgRXZlbnRIYW5kbGVyX19kZWZhdWx0WydkZWZhdWx0J10ub25lKHRoaXMuX2VsZW1lbnQsIEVWRU5UX01PVVNFVVBfRElTTUlTUywgZXZlbnQgPT4ge1xuICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKCgpID0+IHRoaXMuX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IHRoaXMuX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhpZGVFdmVudCA9IEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERSk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcblxuICAgICAgY29uc3QgaXNBbmltYXRlZCA9IHRoaXMuX2lzQW5pbWF0ZWQoKTtcblxuICAgICAgaWYgKGlzQW5pbWF0ZWQpIHtcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgdGhpcy5fZm9jdXN0cmFwLmRlYWN0aXZhdGUoKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyk7XG5cbiAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9mZih0aGlzLl9lbGVtZW50LCBFVkVOVF9DTElDS19ESVNNSVNTKTtcbiAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9mZih0aGlzLl9kaWFsb2csIEVWRU5UX01PVVNFRE9XTl9ESVNNSVNTKTtcblxuICAgICAgdGhpcy5fcXVldWVDYWxsYmFjaygoKSA9PiB0aGlzLl9oaWRlTW9kYWwoKSwgdGhpcy5fZWxlbWVudCwgaXNBbmltYXRlZCk7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgIFt3aW5kb3csIHRoaXMuX2RpYWxvZ10uZm9yRWFjaChodG1sRWxlbWVudCA9PiBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vZmYoaHRtbEVsZW1lbnQsIEVWRU5UX0tFWSkpO1xuXG4gICAgICB0aGlzLl9iYWNrZHJvcC5kaXNwb3NlKCk7XG5cbiAgICAgIHRoaXMuX2ZvY3VzdHJhcC5kZWFjdGl2YXRlKCk7XG5cbiAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVVcGRhdGUoKSB7XG4gICAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcbiAgICB9IC8vIFByaXZhdGVcblxuXG4gICAgX2luaXRpYWxpemVCYWNrRHJvcCgpIHtcbiAgICAgIHJldHVybiBuZXcgQmFja2Ryb3Aoe1xuICAgICAgICBpc1Zpc2libGU6IEJvb2xlYW4odGhpcy5fY29uZmlnLmJhY2tkcm9wKSxcbiAgICAgICAgLy8gJ3N0YXRpYycgb3B0aW9uIHdpbGwgYmUgdHJhbnNsYXRlZCB0byB0cnVlLCBhbmQgYm9vbGVhbnMgd2lsbCBrZWVwIHRoZWlyIHZhbHVlXG4gICAgICAgIGlzQW5pbWF0ZWQ6IHRoaXMuX2lzQW5pbWF0ZWQoKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2luaXRpYWxpemVGb2N1c1RyYXAoKSB7XG4gICAgICByZXR1cm4gbmV3IEZvY3VzVHJhcCh7XG4gICAgICAgIHRyYXBFbGVtZW50OiB0aGlzLl9lbGVtZW50XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0geyAuLi5EZWZhdWx0LFxuICAgICAgICAuLi5NYW5pcHVsYXRvcl9fZGVmYXVsdFsnZGVmYXVsdCddLmdldERhdGFBdHRyaWJ1dGVzKHRoaXMuX2VsZW1lbnQpLFxuICAgICAgICAuLi4odHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiB7fSlcbiAgICAgIH07XG4gICAgICB0eXBlQ2hlY2tDb25maWcoTkFNRSwgY29uZmlnLCBEZWZhdWx0VHlwZSk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIF9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICBjb25zdCBpc0FuaW1hdGVkID0gdGhpcy5faXNBbmltYXRlZCgpO1xuXG4gICAgICBjb25zdCBtb2RhbEJvZHkgPSBTZWxlY3RvckVuZ2luZV9fZGVmYXVsdFsnZGVmYXVsdCddLmZpbmRPbmUoU0VMRUNUT1JfTU9EQUxfQk9EWSwgdGhpcy5fZGlhbG9nKTtcblxuICAgICAgaWYgKCF0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUgfHwgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAvLyBEb24ndCBtb3ZlIG1vZGFsJ3MgRE9NIHBvc2l0aW9uXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCB0cnVlKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2Nyb2xsVG9wID0gMDtcblxuICAgICAgaWYgKG1vZGFsQm9keSkge1xuICAgICAgICBtb2RhbEJvZHkuc2Nyb2xsVG9wID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQW5pbWF0ZWQpIHtcbiAgICAgICAgcmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XKTtcblxuICAgICAgY29uc3QgdHJhbnNpdGlvbkNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgICAgdGhpcy5fZm9jdXN0cmFwLmFjdGl2YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgRXZlbnRIYW5kbGVyX19kZWZhdWx0WydkZWZhdWx0J10udHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9TSE9XTiwge1xuICAgICAgICAgIHJlbGF0ZWRUYXJnZXRcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKHRyYW5zaXRpb25Db21wbGV0ZSwgdGhpcy5fZGlhbG9nLCBpc0FuaW1hdGVkKTtcbiAgICB9XG5cbiAgICBfc2V0RXNjYXBlRXZlbnQoKSB7XG4gICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9LRVlET1dOX0RJU01JU1MsIGV2ZW50ID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmtleWJvYXJkICYmIGV2ZW50LmtleSA9PT0gRVNDQVBFX0tFWSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NvbmZpZy5rZXlib2FyZCAmJiBldmVudC5rZXkgPT09IEVTQ0FQRV9LRVkpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRXZlbnRIYW5kbGVyX19kZWZhdWx0WydkZWZhdWx0J10ub2ZmKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0tFWURPV05fRElTTUlTUyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3NldFJlc2l6ZUV2ZW50KCkge1xuICAgICAgaWYgKHRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgRXZlbnRIYW5kbGVyX19kZWZhdWx0WydkZWZhdWx0J10ub24od2luZG93LCBFVkVOVF9SRVNJWkUsICgpID0+IHRoaXMuX2FkanVzdERpYWxvZygpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9mZih3aW5kb3csIEVWRU5UX1JFU0laRSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2hpZGVNb2RhbCgpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLW1vZGFsJyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG5cbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLl9iYWNrZHJvcC5oaWRlKCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfT1BFTik7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRBZGp1c3RtZW50cygpO1xuXG4gICAgICAgIHRoaXMuX3Njcm9sbEJhci5yZXNldCgpO1xuXG4gICAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElEREVOKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zaG93QmFja2Ryb3AoY2FsbGJhY2spIHtcbiAgICAgIEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0NMSUNLX0RJU01JU1MsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2spIHtcbiAgICAgICAgICB0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuYmFja2Ryb3AgPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jb25maWcuYmFja2Ryb3AgPT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fYmFja2Ryb3Auc2hvdyhjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgX2lzQW5pbWF0ZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9GQURFKTtcbiAgICB9XG5cbiAgICBfdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpIHtcbiAgICAgIGNvbnN0IGhpZGVFdmVudCA9IEV2ZW50SGFuZGxlcl9fZGVmYXVsdFsnZGVmYXVsdCddLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERV9QUkVWRU5URUQpO1xuXG4gICAgICBpZiAoaGlkZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7XG4gICAgICAgIGNsYXNzTGlzdCxcbiAgICAgICAgc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBzdHlsZVxuICAgICAgfSA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICBjb25zdCBpc01vZGFsT3ZlcmZsb3dpbmcgPSBzY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAvLyByZXR1cm4gaWYgdGhlIGZvbGxvd2luZyBiYWNrZ3JvdW5kIHRyYW5zaXRpb24gaGFzbid0IHlldCBjb21wbGV0ZWRcblxuICAgICAgaWYgKCFpc01vZGFsT3ZlcmZsb3dpbmcgJiYgc3R5bGUub3ZlcmZsb3dZID09PSAnaGlkZGVuJyB8fCBjbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TVEFUSUMpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgICB9XG5cbiAgICAgIGNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TVEFUSUMpO1xuXG4gICAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NUQVRJQyk7XG5cbiAgICAgICAgaWYgKCFpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93WSA9ICcnO1xuICAgICAgICAgIH0sIHRoaXMuX2RpYWxvZyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuX2RpYWxvZyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcbiAgICB9IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyB0aGUgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgdG8gaGFuZGxlIG92ZXJmbG93aW5nIG1vZGFsc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gICAgX2FkanVzdERpYWxvZygpIHtcbiAgICAgIGNvbnN0IGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgY29uc3Qgc2Nyb2xsYmFyV2lkdGggPSB0aGlzLl9zY3JvbGxCYXIuZ2V0V2lkdGgoKTtcblxuICAgICAgY29uc3QgaXNCb2R5T3ZlcmZsb3dpbmcgPSBzY3JvbGxiYXJXaWR0aCA+IDA7XG5cbiAgICAgIGlmICghaXNCb2R5T3ZlcmZsb3dpbmcgJiYgaXNNb2RhbE92ZXJmbG93aW5nICYmICFpc1JUTCgpIHx8IGlzQm9keU92ZXJmbG93aW5nICYmICFpc01vZGFsT3ZlcmZsb3dpbmcgJiYgaXNSVEwoKSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gYCR7c2Nyb2xsYmFyV2lkdGh9cHhgO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNCb2R5T3ZlcmZsb3dpbmcgJiYgIWlzTW9kYWxPdmVyZmxvd2luZyAmJiAhaXNSVEwoKSB8fCAhaXNCb2R5T3ZlcmZsb3dpbmcgJiYgaXNNb2RhbE92ZXJmbG93aW5nICYmIGlzUlRMKCkpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBgJHtzY3JvbGxiYXJXaWR0aH1weGA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3Jlc2V0QWRqdXN0bWVudHMoKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gJyc7XG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcnO1xuICAgIH0gLy8gU3RhdGljXG5cblxuICAgIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnLCByZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IE1vZGFsLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcywgY29uZmlnKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YVtjb25maWddKHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBEYXRhIEFwaSBpbXBsZW1lbnRhdGlvblxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cblxuICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vbihkb2N1bWVudCwgRVZFTlRfQ0xJQ0tfREFUQV9BUEksIFNFTEVDVE9SX0RBVEFfVE9HR0xFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRFbGVtZW50RnJvbVNlbGVjdG9yKHRoaXMpO1xuXG4gICAgaWYgKFsnQScsICdBUkVBJ10uaW5jbHVkZXModGhpcy50YWdOYW1lKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vbmUodGFyZ2V0LCBFVkVOVF9TSE9XLCBzaG93RXZlbnQgPT4ge1xuICAgICAgaWYgKHNob3dFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBFdmVudEhhbmRsZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXS5vbmUodGFyZ2V0LCBFVkVOVF9ISURERU4sICgpID0+IHtcbiAgICAgICAgaWYgKGlzVmlzaWJsZSh0aGlzKSkge1xuICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7IC8vIGF2b2lkIGNvbmZsaWN0IHdoZW4gY2xpY2tpbmcgbW9kZGFsIHRvZ2dsZXIgd2hpbGUgYW5vdGhlciBvbmUgaXMgb3BlblxuXG4gICAgY29uc3QgYWxsUmVhZHlPcGVuID0gU2VsZWN0b3JFbmdpbmVfX2RlZmF1bHRbJ2RlZmF1bHQnXS5maW5kT25lKE9QRU5fU0VMRUNUT1IpO1xuXG4gICAgaWYgKGFsbFJlYWR5T3Blbikge1xuICAgICAgTW9kYWwuZ2V0SW5zdGFuY2UoYWxsUmVhZHlPcGVuKS5oaWRlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IE1vZGFsLmdldE9yQ3JlYXRlSW5zdGFuY2UodGFyZ2V0KTtcbiAgICBkYXRhLnRvZ2dsZSh0aGlzKTtcbiAgfSk7XG4gIGVuYWJsZURpc21pc3NUcmlnZ2VyKE1vZGFsKTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBqUXVlcnlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIGFkZCAuTW9kYWwgdG8galF1ZXJ5IG9ubHkgaWYgalF1ZXJ5IGlzIHByZXNlbnRcbiAgICovXG5cbiAgZGVmaW5lSlF1ZXJ5UGx1Z2luKE1vZGFsKTtcblxuICByZXR1cm4gTW9kYWw7XG5cbn0pKSk7XG5cbiJdfQ==