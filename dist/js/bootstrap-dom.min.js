"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Data=t()}(void 0,function(){var r=new Map;return{set:function(e,t,n){r.has(e)||r.set(e,new Map);e=r.get(e);e.has(t)||0===e.size?e.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(e.keys())[0],"."))},get:function(e,t){return r.has(e)&&r.get(e).get(t)||null},remove:function(e,t){var n;r.has(e)&&((n=r.get(e)).delete(t),0===n.size&&r.delete(e))}}}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).EventHandler=t()}(void 0,function(){var b=/[^.]*(?=\..*)\.|.*/,t=/\..*/,c=/::\d+$/,n={},r=1,o={mouseenter:"mouseover",mouseleave:"mouseout"},m=/^(mouseenter|mouseleave)/i,d=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function v(e,t){return t&&"".concat(t,"::").concat(r++)||e.uidEvent||r++}function g(e){var t=v(e);return e.uidEvent=t,n[t]=n[t]||{},n[t]}function h(e,t,n){for(var r=2<arguments.length&&void 0!==n?n:null,o=Object.keys(e),i=0,a=o.length;i<a;i++){var u=e[o[i]];if(u.originalHandler===t&&u.delegationSelector===r)return u}return null}function S(e,t,n){var r="string"==typeof t,n=r?n:t,t=y(e);return[r,n,t=!d.has(t)?e:t]}function i(e,t,n,r,o){var i,a,u,l,f,c,s,d,y,p;"string"==typeof t&&e&&(n||(n=r,r=null),m.test(t)&&(f=function(t){return function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)}},r?r=f(r):n=f(n)),i=(l=_slicedToArray(S(t,n,r),3))[0],a=l[1],u=l[2],(f=h(l=(f=g(e))[u]||(f[u]={}),a,i?n:null))?f.oneOff=f.oneOff&&o:(t=v(a,t.replace(b,"")),(r=i?(d=e,y=n,p=r,function e(t){for(var n=d.querySelectorAll(y),r=t.target;r&&r!==this;r=r.parentNode)for(var o=n.length;o--;)if(n[o]===r)return t.delegateTarget=r,e.oneOff&&A.off(d,t.type,y,p),p.apply(r,[t]);return null}):(c=e,s=n,function e(t){return t.delegateTarget=c,e.oneOff&&A.off(c,t.type,s),s.apply(c,[t])})).delegationSelector=i?n:null,r.originalHandler=a,r.oneOff=o,l[r.uidEvent=t]=r,e.addEventListener(u,r,i)))}function s(e,t,n,r,o){r=h(t[n],r,o);r&&(e.removeEventListener(n,r,Boolean(o)),delete t[n][r.uidEvent])}function y(e){return e=e.replace(t,""),o[e]||e}var A={on:function(e,t,n,r){i(e,t,n,r,!1)},one:function(e,t,n,r){i(e,t,n,r,!0)},off:function(a,u,e,t){if("string"==typeof u&&a){var n=_slicedToArray(S(u,e,t),3),r=n[0],t=n[1],o=n[2],i=o!==u,l=g(a),n=u.startsWith(".");if(void 0!==t)return l&&l[o]?void s(a,l,o,t,r?e:null):void 0;n&&Object.keys(l).forEach(function(e){var t,n,r,o,i;t=a,n=l,r=e,o=u.slice(1),i=n[r]||{},Object.keys(i).forEach(function(e){e.includes(o)&&(e=i[e],s(t,n,r,e.originalHandler,e.delegationSelector))})});var f=l[o]||{};Object.keys(f).forEach(function(e){var t=e.replace(c,"");i&&!u.includes(t)||(e=f[e],s(a,l,o,e.originalHandler,e.delegationSelector))})}},trigger:function(e,t,n){if("string"!=typeof t||!e)return null;var r,o=(c=window.jQuery)&&!document.body.hasAttribute("data-bs-no-jquery")?c:null,i=y(t),a=t!==i,u=d.has(i),l=!0,f=!0,c=!1,s=null;return a&&o&&(r=o.Event(t,n),o(e).trigger(r),l=!r.isPropagationStopped(),f=!r.isImmediatePropagationStopped(),c=r.isDefaultPrevented()),u?(s=document.createEvent("HTMLEvents")).initEvent(i,l,!0):s=new CustomEvent(t,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach(function(e){Object.defineProperty(s,e,{get:function(){return n[e]}})}),c&&s.preventDefault(),f&&e.dispatchEvent(s),s.defaultPrevented&&void 0!==r&&r.preventDefault(),s}};return A}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Manipulator=t()}(void 0,function(){function o(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function r(e){return e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())})}return{setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat(r(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat(r(t)))},getDataAttributes:function(n){if(!n)return{};var r={};return Object.keys(n.dataset).filter(function(e){return e.startsWith("bs")}).forEach(function(e){var t=(t=e.replace(/^bs/,"")).charAt(0).toLowerCase()+t.slice(1,t.length);r[t]=o(n.dataset[e])}),r},getDataAttribute:function(e,t){return o(e.getAttribute("data-bs-".concat(r(t))))},offset:function(e){e=e.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}}}}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SelectorEngine=t()}(void 0,function(){function n(e){return!(!(t=e)||"object"!==_typeof(t)||void 0===(t=void 0!==t.jquery?t[0]:t).nodeType||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility");var t}return{find:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,_toConsumableArray(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,_toConsumableArray(e.children)).filter(function(e){return e.matches(t)})},parents:function(e,t){for(var n=[],r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(function(e){return"".concat(e,':not([tabindex^="-"])')}).join(", ");return this.find(t,e).filter(function(e){return!(!(t=e)||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))))&&n(e);var t})}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbS9kYXRhLmpzIiwiZG9tL2V2ZW50LWhhbmRsZXIuanMiLCJkb20vbWFuaXB1bGF0b3IuanMiLCJkb20vc2VsZWN0b3ItZW5naW5lLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsImZhY3RvcnkiLCJleHBvcnRzIiwiX3R5cGVvZiIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImdsb2JhbFRoaXMiLCJzZWxmIiwiRGF0YSIsImVsZW1lbnRNYXAiLCJNYXAiLCJzZXQiLCJlbGVtZW50Iiwia2V5IiwiaW5zdGFuY2UiLCJoYXMiLCJpbnN0YW5jZU1hcCIsImdldCIsInNpemUiLCJjb25zb2xlIiwiZXJyb3IiLCJjb25jYXQiLCJBcnJheSIsImZyb20iLCJrZXlzIiwicmVtb3ZlIiwiRXZlbnRIYW5kbGVyIiwibmFtZXNwYWNlUmVnZXgiLCJzdHJpcE5hbWVSZWdleCIsInN0cmlwVWlkUmVnZXgiLCJldmVudFJlZ2lzdHJ5IiwidWlkRXZlbnQiLCJjdXN0b21FdmVudHMiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsImN1c3RvbUV2ZW50c1JlZ2V4IiwibmF0aXZlRXZlbnRzIiwiU2V0IiwiZ2V0VWlkRXZlbnQiLCJ1aWQiLCJnZXRFdmVudCIsImZpbmRIYW5kbGVyIiwiZXZlbnRzIiwiaGFuZGxlciIsImRlbGVnYXRpb25TZWxlY3RvciIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInVpZEV2ZW50TGlzdCIsIk9iamVjdCIsImkiLCJsZW4iLCJldmVudCIsIm9yaWdpbmFsSGFuZGxlciIsIm5vcm1hbGl6ZVBhcmFtcyIsIm9yaWdpbmFsVHlwZUV2ZW50IiwiZGVsZWdhdGlvbkZuIiwiZGVsZWdhdGlvbiIsInR5cGVFdmVudCIsImdldFR5cGVFdmVudCIsImFkZEhhbmRsZXIiLCJvbmVPZmYiLCJoYW5kbGVycyIsInByZXZpb3VzRm4iLCJmbiIsInNlbGVjdG9yIiwidGVzdCIsIndyYXBGbiIsInJlbGF0ZWRUYXJnZXQiLCJkZWxlZ2F0ZVRhcmdldCIsImNvbnRhaW5zIiwiY2FsbCIsInRoaXMiLCJfbm9ybWFsaXplUGFyYW1zMiIsIl9zbGljZWRUb0FycmF5IiwicmVwbGFjZSIsImRvbUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsInRhcmdldCIsInBhcmVudE5vZGUiLCJvZmYiLCJ0eXBlIiwiYXBwbHkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlSGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJCb29sZWFuIiwib24iLCJvbmUiLCJfbm9ybWFsaXplUGFyYW1zNCIsImluTmFtZXNwYWNlIiwiaXNOYW1lc3BhY2UiLCJzdGFydHNXaXRoIiwiZm9yRWFjaCIsImVsZW1lbnRFdmVudCIsIm5hbWVzcGFjZSIsInN0b3JlRWxlbWVudEV2ZW50Iiwic2xpY2UiLCJoYW5kbGVyS2V5IiwiaW5jbHVkZXMiLCJrZXlIYW5kbGVycyIsInRyaWdnZXIiLCJhcmdzIiwialF1ZXJ5RXZlbnQiLCIkIiwialF1ZXJ5Iiwid2luZG93IiwiZG9jdW1lbnQiLCJib2R5IiwiaGFzQXR0cmlidXRlIiwiaXNOYXRpdmUiLCJidWJibGVzIiwibmF0aXZlRGlzcGF0Y2giLCJkZWZhdWx0UHJldmVudGVkIiwiZXZ0IiwiRXZlbnQiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwiaXNEZWZhdWx0UHJldmVudGVkIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJDdXN0b21FdmVudCIsImNhbmNlbGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsInByZXZlbnREZWZhdWx0IiwiZGlzcGF0Y2hFdmVudCIsIk1hbmlwdWxhdG9yIiwibm9ybWFsaXplRGF0YSIsInZhbCIsIk51bWJlciIsInRvU3RyaW5nIiwibm9ybWFsaXplRGF0YUtleSIsImNociIsInRvTG93ZXJDYXNlIiwic2V0RGF0YUF0dHJpYnV0ZSIsInZhbHVlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlRGF0YUF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImdldERhdGFBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImRhdGFzZXQiLCJmaWx0ZXIiLCJwdXJlS2V5IiwiY2hhckF0IiwiZ2V0RGF0YUF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsIm9mZnNldCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJwYWdlWU9mZnNldCIsImxlZnQiLCJwYWdlWE9mZnNldCIsInBvc2l0aW9uIiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsIlNlbGVjdG9yRW5naW5lIiwiaXNWaXNpYmxlIiwib2JqIiwianF1ZXJ5Iiwibm9kZVR5cGUiLCJnZXRDbGllbnRSZWN0cyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZmluZCIsIl9yZWYiLCJkb2N1bWVudEVsZW1lbnQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJFbGVtZW50IiwicHJvdG90eXBlIiwiZmluZE9uZSIsInF1ZXJ5U2VsZWN0b3IiLCJjaGlsZHJlbiIsIl9yZWYyIiwiY2hpbGQiLCJtYXRjaGVzIiwicGFyZW50cyIsImFuY2VzdG9yIiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsInB1c2giLCJwcmV2IiwicHJldmlvdXMiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwibmV4dCIsIm5leHRFbGVtZW50U2libGluZyIsImZvY3VzYWJsZUNoaWxkcmVuIiwiZm9jdXNhYmxlcyIsIm1hcCIsImpvaW4iLCJlbCIsImNsYXNzTGlzdCIsImRpc2FibGVkIl0sIm1hcHBpbmdzIjoiZ2xHQUtDLFNBQVVBLEVBQVFDLEdBQ0UsWUFBbkIsb0JBQU9DLFFBQVAsWUFBQUMsUUFBT0QsV0FBMEMsb0JBQVhFLE9BQXlCQSxPQUFPRixRQUFVRCxJQUM5RCxtQkFBWEksUUFBeUJBLE9BQU9DLElBQU1ELE9BQU9KLElBQ25ERCxFQUErQixvQkFBZk8sV0FBNkJBLFdBQWFQLEdBQVVRLE1BQWFDLEtBQU9SLElBSDFGLE1BQUEsRUFJUSxXQWNQLElBQU1TLEVBQWEsSUFBSUMs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QyxJQWtCZ0RGLEVBQVNqQixVQUNqRWlCLEVBQVNGLFFBQVEvRyxJQUNuQmdILEVBQVFJLEtBQUtILEdBR2ZBLEVBQVdBLEVBQVNuRyxXQUd0QixPQUFPa0csR0FHVEssS0E1QnFCLFNBNEJoQjFLLEVBQVNxRCxHQUdaLElBRkEsSUFBSXNILEVBQVczSyxFQUFRNEssdUJBRWhCRCxHQUFVLENBQ2YsR0FBSUEsRUFBU1AsUUFBUS9HLEdBQ25CLE1BQU8sQ0FBQ3NILEdBR1ZBLEVBQVdBLEVBQVNDLHVCQUd0QixNQUFPLElBR1RDLEtBMUNxQixTQTBDaEI3SyxFQUFTcUQsR0FHWixJQUZBLElBQUl3SCxFQUFPN0ssRUFBUThLLG1CQUVaRCxHQUFNLENBQ1gsR0FBSUEsRUFBS1QsUUFBUS9HLEdBQ2YsTUFBTyxDQUFDd0gsR0FHVkEsRUFBT0EsRUFBS0MsbUJBR2QsTUFBTyxJQUdUQyxrQkF4RHFCLFNBd0RIL0ssR0FDaEIsSUFBTWdMLEVBQWEsQ0FBQyxJQUFLLFNBQVUsUUFBUyxXQUFZLFNBQVUsVUFBVyxhQUFjLDRCQUE0QkMsSUFBSSxTQUFBNUgsR0FBUSxNQUFBLEdBQUE1QyxPQUFPNEMsRUFBUCwyQkFBd0M2SCxLQUFLLE1BQ2hMLE9BQU90SCxLQUFLNkYsS0FBS3VCLEVBQVloTCxHQUFTa0ksT0FBTyxTQUFBaUQsR0FBRSxVQWpGaENuTCxFQWlGZ0RtTCxJQWhGakRuTCxFQUFRcUosV0FBYWtCLEtBQUtDLGlCQUl0Q3hLLEVBQVFvTCxVQUFVMUgsU0FBUyxtQkFJQyxJQUFyQjFELEVBQVFxTCxTQUNWckwsRUFBUXFMLFNBR1ZyTCxFQUFRaUcsYUFBYSxhQUFvRCxVQUFyQ2pHLEVBQVFzSSxhQUFhLGdCQW9FUVksRUFBVWlDLEdBakZqRSxJQUFBbkwiLCJmaWxlIjoiYm9vdHN0cmFwLWRvbS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAgKiBCb290c3RyYXAgZGF0YS5qcyB2NS4xLjEgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pXG4gICogQ29weXJpZ2h0IDIwMTEtMjAyMSBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKVxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuRGF0YSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NS4xLjEpOiBkb20vZGF0YS5qc1xuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBDb25zdGFudHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICBjb25zdCBlbGVtZW50TWFwID0gbmV3IE1hcCgpO1xuICB2YXIgZGF0YSA9IHtcbiAgICBzZXQoZWxlbWVudCwga2V5LCBpbnN0YW5jZSkge1xuICAgICAgaWYgKCFlbGVtZW50TWFwLmhhcyhlbGVtZW50KSkge1xuICAgICAgICBlbGVtZW50TWFwLnNldChlbGVtZW50LCBuZXcgTWFwKCkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpbnN0YW5jZU1hcCA9IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnQpOyAvLyBtYWtlIGl0IGNsZWFyIHdlIG9ubHkgd2FudCBvbmUgaW5zdGFuY2UgcGVyIGVsZW1lbnRcbiAgICAgIC8vIGNhbiBiZSByZW1vdmVkIGxhdGVyIHdoZW4gbXVsdGlwbGUga2V5L2luc3RhbmNlcyBhcmUgZmluZSB0byBiZSB1c2VkXG5cbiAgICAgIGlmICghaW5zdGFuY2VNYXAuaGFzKGtleSkgJiYgaW5zdGFuY2VNYXAuc2l6ZSAhPT0gMCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKGBCb290c3RyYXAgZG9lc24ndCBhbGxvdyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIHBlciBlbGVtZW50LiBCb3VuZCBpbnN0YW5jZTogJHtBcnJheS5mcm9tKGluc3RhbmNlTWFwLmtleXMoKSlbMF19LmApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGluc3RhbmNlTWFwLnNldChrZXksIGluc3RhbmNlKTtcbiAgICB9LFxuXG4gICAgZ2V0KGVsZW1lbnQsIGtleSkge1xuICAgICAgaWYgKGVsZW1lbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50TWFwLmdldChlbGVtZW50KS5nZXQoa2V5KSB8fCBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKGVsZW1lbnQsIGtleSkge1xuICAgICAgaWYgKCFlbGVtZW50TWFwLmhhcyhlbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGluc3RhbmNlTWFwID0gZWxlbWVudE1hcC5nZXQoZWxlbWVudCk7XG4gICAgICBpbnN0YW5jZU1hcC5kZWxldGUoa2V5KTsgLy8gZnJlZSB1cCBlbGVtZW50IHJlZmVyZW5jZXMgaWYgdGhlcmUgYXJlIG5vIGluc3RhbmNlcyBsZWZ0IGZvciBhbiBlbGVtZW50XG5cbiAgICAgIGlmIChpbnN0YW5jZU1hcC5zaXplID09PSAwKSB7XG4gICAgICAgIGVsZW1lbnRNYXAuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICB9O1xuXG4gIHJldHVybiBkYXRhO1xuXG59KSkpO1xuXG4iLCIvKiFcbiAgKiBCb290c3RyYXAgZXZlbnQtaGFuZGxlci5qcyB2NS4xLjEgKGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8pXG4gICogQ29weXJpZ2h0IDIwMTEtMjAyMSBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKVxuICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuRXZlbnRIYW5kbGVyID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY1LjEuMSk6IHV0aWwvaW5kZXguanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIGNvbnN0IGdldGpRdWVyeSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBqUXVlcnlcbiAgICB9ID0gd2luZG93O1xuXG4gICAgaWYgKGpRdWVyeSAmJiAhZG9jdW1lbnQuYm9keS5oYXNBdHRyaWJ1dGUoJ2RhdGEtYnMtbm8tanF1ZXJ5JykpIHtcbiAgICAgIHJldHVybiBqUXVlcnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIEJvb3RzdHJhcCAodjUuMS4xKTogZG9tL2V2ZW50LWhhbmRsZXIuanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIENvbnN0YW50c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgY29uc3QgbmFtZXNwYWNlUmVnZXggPSAvW14uXSooPz1cXC4uKilcXC58LiovO1xuICBjb25zdCBzdHJpcE5hbWVSZWdleCA9IC9cXC4uKi87XG4gIGNvbnN0IHN0cmlwVWlkUmVnZXggPSAvOjpcXGQrJC87XG4gIGNvbnN0IGV2ZW50UmVnaXN0cnkgPSB7fTsgLy8gRXZlbnRzIHN0b3JhZ2VcblxuICBsZXQgdWlkRXZlbnQgPSAxO1xuICBjb25zdCBjdXN0b21FdmVudHMgPSB7XG4gICAgbW91c2VlbnRlcjogJ21vdXNlb3ZlcicsXG4gICAgbW91c2VsZWF2ZTogJ21vdXNlb3V0J1xuICB9O1xuICBjb25zdCBjdXN0b21FdmVudHNSZWdleCA9IC9eKG1vdXNlZW50ZXJ8bW91c2VsZWF2ZSkvaTtcbiAgY29uc3QgbmF0aXZlRXZlbnRzID0gbmV3IFNldChbJ2NsaWNrJywgJ2RibGNsaWNrJywgJ21vdXNldXAnLCAnbW91c2Vkb3duJywgJ2NvbnRleHRtZW51JywgJ21vdXNld2hlZWwnLCAnRE9NTW91c2VTY3JvbGwnLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ21vdXNlbW92ZScsICdzZWxlY3RzdGFydCcsICdzZWxlY3RlbmQnLCAna2V5ZG93bicsICdrZXlwcmVzcycsICdrZXl1cCcsICdvcmllbnRhdGlvbmNoYW5nZScsICd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZScsICd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCcsICdwb2ludGVyZG93bicsICdwb2ludGVybW92ZScsICdwb2ludGVydXAnLCAncG9pbnRlcmxlYXZlJywgJ3BvaW50ZXJjYW5jZWwnLCAnZ2VzdHVyZXN0YXJ0JywgJ2dlc3R1cmVjaGFuZ2UnLCAnZ2VzdHVyZWVuZCcsICdmb2N1cycsICdibHVyJywgJ2NoYW5nZScsICdyZXNldCcsICdzZWxlY3QnLCAnc3VibWl0JywgJ2ZvY3VzaW4nLCAnZm9jdXNvdXQnLCAnbG9hZCcsICd1bmxvYWQnLCAnYmVmb3JldW5sb2FkJywgJ3Jlc2l6ZScsICdtb3ZlJywgJ0RPTUNvbnRlbnRMb2FkZWQnLCAncmVhZHlzdGF0ZWNoYW5nZScsICdlcnJvcicsICdhYm9ydCcsICdzY3JvbGwnXSk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cblxuICBmdW5jdGlvbiBnZXRVaWRFdmVudChlbGVtZW50LCB1aWQpIHtcbiAgICByZXR1cm4gdWlkICYmIGAke3VpZH06OiR7dWlkRXZlbnQrK31gIHx8IGVsZW1lbnQudWlkRXZlbnQgfHwgdWlkRXZlbnQrKztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEV2ZW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCB1aWQgPSBnZXRVaWRFdmVudChlbGVtZW50KTtcbiAgICBlbGVtZW50LnVpZEV2ZW50ID0gdWlkO1xuICAgIGV2ZW50UmVnaXN0cnlbdWlkXSA9IGV2ZW50UmVnaXN0cnlbdWlkXSB8fCB7fTtcbiAgICByZXR1cm4gZXZlbnRSZWdpc3RyeVt1aWRdO1xuICB9XG5cbiAgZnVuY3Rpb24gYm9vdHN0cmFwSGFuZGxlcihlbGVtZW50LCBmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gICAgICBldmVudC5kZWxlZ2F0ZVRhcmdldCA9IGVsZW1lbnQ7XG5cbiAgICAgIGlmIChoYW5kbGVyLm9uZU9mZikge1xuICAgICAgICBFdmVudEhhbmRsZXIub2ZmKGVsZW1lbnQsIGV2ZW50LnR5cGUsIGZuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuLmFwcGx5KGVsZW1lbnQsIFtldmVudF0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBib290c3RyYXBEZWxlZ2F0aW9uSGFuZGxlcihlbGVtZW50LCBzZWxlY3RvciwgZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlcihldmVudCkge1xuICAgICAgY29uc3QgZG9tRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gICAgICBmb3IgKGxldCB7XG4gICAgICAgIHRhcmdldFxuICAgICAgfSA9IGV2ZW50OyB0YXJnZXQgJiYgdGFyZ2V0ICE9PSB0aGlzOyB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gZG9tRWxlbWVudHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgaWYgKGRvbUVsZW1lbnRzW2ldID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlci5vbmVPZmYpIHtcbiAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyLm9mZihlbGVtZW50LCBldmVudC50eXBlLCBzZWxlY3RvciwgZm4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGFyZ2V0LCBbZXZlbnRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gVG8gcGxlYXNlIEVTTGludFxuXG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kSGFuZGxlcihldmVudHMsIGhhbmRsZXIsIGRlbGVnYXRpb25TZWxlY3RvciA9IG51bGwpIHtcbiAgICBjb25zdCB1aWRFdmVudExpc3QgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHVpZEV2ZW50TGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbdWlkRXZlbnRMaXN0W2ldXTtcblxuICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsSGFuZGxlciA9PT0gaGFuZGxlciAmJiBldmVudC5kZWxlZ2F0aW9uU2VsZWN0b3IgPT09IGRlbGVnYXRpb25TZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVQYXJhbXMob3JpZ2luYWxUeXBlRXZlbnQsIGhhbmRsZXIsIGRlbGVnYXRpb25Gbikge1xuICAgIGNvbnN0IGRlbGVnYXRpb24gPSB0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZyc7XG4gICAgY29uc3Qgb3JpZ2luYWxIYW5kbGVyID0gZGVsZWdhdGlvbiA/IGRlbGVnYXRpb25GbiA6IGhhbmRsZXI7XG4gICAgbGV0IHR5cGVFdmVudCA9IGdldFR5cGVFdmVudChvcmlnaW5hbFR5cGVFdmVudCk7XG4gICAgY29uc3QgaXNOYXRpdmUgPSBuYXRpdmVFdmVudHMuaGFzKHR5cGVFdmVudCk7XG5cbiAgICBpZiAoIWlzTmF0aXZlKSB7XG4gICAgICB0eXBlRXZlbnQgPSBvcmlnaW5hbFR5cGVFdmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gW2RlbGVnYXRpb24sIG9yaWdpbmFsSGFuZGxlciwgdHlwZUV2ZW50XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEhhbmRsZXIoZWxlbWVudCwgb3JpZ2luYWxUeXBlRXZlbnQsIGhhbmRsZXIsIGRlbGVnYXRpb25Gbiwgb25lT2ZmKSB7XG4gICAgaWYgKHR5cGVvZiBvcmlnaW5hbFR5cGVFdmVudCAhPT0gJ3N0cmluZycgfHwgIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXIgPSBkZWxlZ2F0aW9uRm47XG4gICAgICBkZWxlZ2F0aW9uRm4gPSBudWxsO1xuICAgIH0gLy8gaW4gY2FzZSBvZiBtb3VzZWVudGVyIG9yIG1vdXNlbGVhdmUgd3JhcCB0aGUgaGFuZGxlciB3aXRoaW4gYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBmb3IgaXRzIERPTSBwb3NpdGlvblxuICAgIC8vIHRoaXMgcHJldmVudHMgdGhlIGhhbmRsZXIgZnJvbSBiZWluZyBkaXNwYXRjaGVkIHRoZSBzYW1lIHdheSBhcyBtb3VzZW92ZXIgb3IgbW91c2VvdXQgZG9lc1xuXG5cbiAgICBpZiAoY3VzdG9tRXZlbnRzUmVnZXgudGVzdChvcmlnaW5hbFR5cGVFdmVudCkpIHtcbiAgICAgIGNvbnN0IHdyYXBGbiA9IGZuID0+IHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmICghZXZlbnQucmVsYXRlZFRhcmdldCB8fCBldmVudC5yZWxhdGVkVGFyZ2V0ICE9PSBldmVudC5kZWxlZ2F0ZVRhcmdldCAmJiAhZXZlbnQuZGVsZWdhdGVUYXJnZXQuY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBpZiAoZGVsZWdhdGlvbkZuKSB7XG4gICAgICAgIGRlbGVnYXRpb25GbiA9IHdyYXBGbihkZWxlZ2F0aW9uRm4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlciA9IHdyYXBGbihoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBbZGVsZWdhdGlvbiwgb3JpZ2luYWxIYW5kbGVyLCB0eXBlRXZlbnRdID0gbm9ybWFsaXplUGFyYW1zKG9yaWdpbmFsVHlwZUV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRm4pO1xuICAgIGNvbnN0IGV2ZW50cyA9IGdldEV2ZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGhhbmRsZXJzID0gZXZlbnRzW3R5cGVFdmVudF0gfHwgKGV2ZW50c1t0eXBlRXZlbnRdID0ge30pO1xuICAgIGNvbnN0IHByZXZpb3VzRm4gPSBmaW5kSGFuZGxlcihoYW5kbGVycywgb3JpZ2luYWxIYW5kbGVyLCBkZWxlZ2F0aW9uID8gaGFuZGxlciA6IG51bGwpO1xuXG4gICAgaWYgKHByZXZpb3VzRm4pIHtcbiAgICAgIHByZXZpb3VzRm4ub25lT2ZmID0gcHJldmlvdXNGbi5vbmVPZmYgJiYgb25lT2ZmO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVpZCA9IGdldFVpZEV2ZW50KG9yaWdpbmFsSGFuZGxlciwgb3JpZ2luYWxUeXBlRXZlbnQucmVwbGFjZShuYW1lc3BhY2VSZWdleCwgJycpKTtcbiAgICBjb25zdCBmbiA9IGRlbGVnYXRpb24gPyBib290c3RyYXBEZWxlZ2F0aW9uSGFuZGxlcihlbGVtZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRm4pIDogYm9vdHN0cmFwSGFuZGxlcihlbGVtZW50LCBoYW5kbGVyKTtcbiAgICBmbi5kZWxlZ2F0aW9uU2VsZWN0b3IgPSBkZWxlZ2F0aW9uID8gaGFuZGxlciA6IG51bGw7XG4gICAgZm4ub3JpZ2luYWxIYW5kbGVyID0gb3JpZ2luYWxIYW5kbGVyO1xuICAgIGZuLm9uZU9mZiA9IG9uZU9mZjtcbiAgICBmbi51aWRFdmVudCA9IHVpZDtcbiAgICBoYW5kbGVyc1t1aWRdID0gZm47XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGVFdmVudCwgZm4sIGRlbGVnYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlSGFuZGxlcihlbGVtZW50LCBldmVudHMsIHR5cGVFdmVudCwgaGFuZGxlciwgZGVsZWdhdGlvblNlbGVjdG9yKSB7XG4gICAgY29uc3QgZm4gPSBmaW5kSGFuZGxlcihldmVudHNbdHlwZUV2ZW50XSwgaGFuZGxlciwgZGVsZWdhdGlvblNlbGVjdG9yKTtcblxuICAgIGlmICghZm4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZUV2ZW50LCBmbiwgQm9vbGVhbihkZWxlZ2F0aW9uU2VsZWN0b3IpKTtcbiAgICBkZWxldGUgZXZlbnRzW3R5cGVFdmVudF1bZm4udWlkRXZlbnRdO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTmFtZXNwYWNlZEhhbmRsZXJzKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBzdG9yZUVsZW1lbnRFdmVudCA9IGV2ZW50c1t0eXBlRXZlbnRdIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKHN0b3JlRWxlbWVudEV2ZW50KS5mb3JFYWNoKGhhbmRsZXJLZXkgPT4ge1xuICAgICAgaWYgKGhhbmRsZXJLZXkuaW5jbHVkZXMobmFtZXNwYWNlKSkge1xuICAgICAgICBjb25zdCBldmVudCA9IHN0b3JlRWxlbWVudEV2ZW50W2hhbmRsZXJLZXldO1xuICAgICAgICByZW1vdmVIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBldmVudC5vcmlnaW5hbEhhbmRsZXIsIGV2ZW50LmRlbGVnYXRpb25TZWxlY3Rvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUeXBlRXZlbnQoZXZlbnQpIHtcbiAgICAvLyBhbGxvdyB0byBnZXQgdGhlIG5hdGl2ZSBldmVudHMgZnJvbSBuYW1lc3BhY2VkIGV2ZW50cyAoJ2NsaWNrLmJzLmJ1dHRvbicgLS0+ICdjbGljaycpXG4gICAgZXZlbnQgPSBldmVudC5yZXBsYWNlKHN0cmlwTmFtZVJlZ2V4LCAnJyk7XG4gICAgcmV0dXJuIGN1c3RvbUV2ZW50c1tldmVudF0gfHwgZXZlbnQ7XG4gIH1cblxuICBjb25zdCBFdmVudEhhbmRsZXIgPSB7XG4gICAgb24oZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIGRlbGVnYXRpb25Gbikge1xuICAgICAgYWRkSGFuZGxlcihlbGVtZW50LCBldmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZuLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIG9uZShlbGVtZW50LCBldmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZuKSB7XG4gICAgICBhZGRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRm4sIHRydWUpO1xuICAgIH0sXG5cbiAgICBvZmYoZWxlbWVudCwgb3JpZ2luYWxUeXBlRXZlbnQsIGhhbmRsZXIsIGRlbGVnYXRpb25Gbikge1xuICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbFR5cGVFdmVudCAhPT0gJ3N0cmluZycgfHwgIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBbZGVsZWdhdGlvbiwgb3JpZ2luYWxIYW5kbGVyLCB0eXBlRXZlbnRdID0gbm9ybWFsaXplUGFyYW1zKG9yaWdpbmFsVHlwZUV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRm4pO1xuICAgICAgY29uc3QgaW5OYW1lc3BhY2UgPSB0eXBlRXZlbnQgIT09IG9yaWdpbmFsVHlwZUV2ZW50O1xuICAgICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnQoZWxlbWVudCk7XG4gICAgICBjb25zdCBpc05hbWVzcGFjZSA9IG9yaWdpbmFsVHlwZUV2ZW50LnN0YXJ0c1dpdGgoJy4nKTtcblxuICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbEhhbmRsZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIFNpbXBsZXN0IGNhc2U6IGhhbmRsZXIgaXMgcGFzc2VkLCByZW1vdmUgdGhhdCBsaXN0ZW5lciBPTkxZLlxuICAgICAgICBpZiAoIWV2ZW50cyB8fCAhZXZlbnRzW3R5cGVFdmVudF0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW1vdmVIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBvcmlnaW5hbEhhbmRsZXIsIGRlbGVnYXRpb24gPyBoYW5kbGVyIDogbnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzTmFtZXNwYWNlKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGV2ZW50cykuZm9yRWFjaChlbGVtZW50RXZlbnQgPT4ge1xuICAgICAgICAgIHJlbW92ZU5hbWVzcGFjZWRIYW5kbGVycyhlbGVtZW50LCBldmVudHMsIGVsZW1lbnRFdmVudCwgb3JpZ2luYWxUeXBlRXZlbnQuc2xpY2UoMSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RvcmVFbGVtZW50RXZlbnQgPSBldmVudHNbdHlwZUV2ZW50XSB8fCB7fTtcbiAgICAgIE9iamVjdC5rZXlzKHN0b3JlRWxlbWVudEV2ZW50KS5mb3JFYWNoKGtleUhhbmRsZXJzID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlcktleSA9IGtleUhhbmRsZXJzLnJlcGxhY2Uoc3RyaXBVaWRSZWdleCwgJycpO1xuXG4gICAgICAgIGlmICghaW5OYW1lc3BhY2UgfHwgb3JpZ2luYWxUeXBlRXZlbnQuaW5jbHVkZXMoaGFuZGxlcktleSkpIHtcbiAgICAgICAgICBjb25zdCBldmVudCA9IHN0b3JlRWxlbWVudEV2ZW50W2tleUhhbmRsZXJzXTtcbiAgICAgICAgICByZW1vdmVIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBldmVudC5vcmlnaW5hbEhhbmRsZXIsIGV2ZW50LmRlbGVnYXRpb25TZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyKGVsZW1lbnQsIGV2ZW50LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGV2ZW50ICE9PSAnc3RyaW5nJyB8fCAhZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgJCA9IGdldGpRdWVyeSgpO1xuICAgICAgY29uc3QgdHlwZUV2ZW50ID0gZ2V0VHlwZUV2ZW50KGV2ZW50KTtcbiAgICAgIGNvbnN0IGluTmFtZXNwYWNlID0gZXZlbnQgIT09IHR5cGVFdmVudDtcbiAgICAgIGNvbnN0IGlzTmF0aXZlID0gbmF0aXZlRXZlbnRzLmhhcyh0eXBlRXZlbnQpO1xuICAgICAgbGV0IGpRdWVyeUV2ZW50O1xuICAgICAgbGV0IGJ1YmJsZXMgPSB0cnVlO1xuICAgICAgbGV0IG5hdGl2ZURpc3BhdGNoID0gdHJ1ZTtcbiAgICAgIGxldCBkZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgICBsZXQgZXZ0ID0gbnVsbDtcblxuICAgICAgaWYgKGluTmFtZXNwYWNlICYmICQpIHtcbiAgICAgICAgalF1ZXJ5RXZlbnQgPSAkLkV2ZW50KGV2ZW50LCBhcmdzKTtcbiAgICAgICAgJChlbGVtZW50KS50cmlnZ2VyKGpRdWVyeUV2ZW50KTtcbiAgICAgICAgYnViYmxlcyA9ICFqUXVlcnlFdmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO1xuICAgICAgICBuYXRpdmVEaXNwYXRjaCA9ICFqUXVlcnlFdmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpO1xuICAgICAgICBkZWZhdWx0UHJldmVudGVkID0galF1ZXJ5RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc05hdGl2ZSkge1xuICAgICAgICBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICAgICAgICBldnQuaW5pdEV2ZW50KHR5cGVFdmVudCwgYnViYmxlcywgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICBidWJibGVzLFxuICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIG1lcmdlIGN1c3RvbSBpbmZvcm1hdGlvbiBpbiBvdXIgZXZlbnRcblxuXG4gICAgICBpZiAodHlwZW9mIGFyZ3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGFyZ3MpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZ0LCBrZXksIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZ3Nba2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuYXRpdmVEaXNwYXRjaCkge1xuICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2dC5kZWZhdWx0UHJldmVudGVkICYmIHR5cGVvZiBqUXVlcnlFdmVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgalF1ZXJ5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV2dDtcbiAgICB9XG5cbiAgfTtcblxuICByZXR1cm4gRXZlbnRIYW5kbGVyO1xuXG59KSkpO1xuXG4iLCIvKiFcbiAgKiBCb290c3RyYXAgbWFuaXB1bGF0b3IuanMgdjUuMS4xIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKVxuICAqIENvcHlyaWdodCAyMDExLTIwMjEgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycylcbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLk1hbmlwdWxhdG9yID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY1LjEuMSk6IGRvbS9tYW5pcHVsYXRvci5qc1xuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZURhdGEodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gJ3RydWUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodmFsID09PSAnZmFsc2UnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHZhbCA9PT0gTnVtYmVyKHZhbCkudG9TdHJpbmcoKSkge1xuICAgICAgcmV0dXJuIE51bWJlcih2YWwpO1xuICAgIH1cblxuICAgIGlmICh2YWwgPT09ICcnIHx8IHZhbCA9PT0gJ251bGwnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplRGF0YUtleShrZXkpIHtcbiAgICByZXR1cm4ga2V5LnJlcGxhY2UoL1tBLVpdL2csIGNociA9PiBgLSR7Y2hyLnRvTG93ZXJDYXNlKCl9YCk7XG4gIH1cblxuICBjb25zdCBNYW5pcHVsYXRvciA9IHtcbiAgICBzZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGBkYXRhLWJzLSR7bm9ybWFsaXplRGF0YUtleShrZXkpfWAsIHZhbHVlKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlRGF0YUF0dHJpYnV0ZShlbGVtZW50LCBrZXkpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGBkYXRhLWJzLSR7bm9ybWFsaXplRGF0YUtleShrZXkpfWApO1xuICAgIH0sXG5cbiAgICBnZXREYXRhQXR0cmlidXRlcyhlbGVtZW50KSB7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhdHRyaWJ1dGVzID0ge307XG4gICAgICBPYmplY3Qua2V5cyhlbGVtZW50LmRhdGFzZXQpLmZpbHRlcihrZXkgPT4ga2V5LnN0YXJ0c1dpdGgoJ2JzJykpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgbGV0IHB1cmVLZXkgPSBrZXkucmVwbGFjZSgvXmJzLywgJycpO1xuICAgICAgICBwdXJlS2V5ID0gcHVyZUtleS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHB1cmVLZXkuc2xpY2UoMSwgcHVyZUtleS5sZW5ndGgpO1xuICAgICAgICBhdHRyaWJ1dGVzW3B1cmVLZXldID0gbm9ybWFsaXplRGF0YShlbGVtZW50LmRhdGFzZXRba2V5XSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sXG5cbiAgICBnZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZURhdGEoZWxlbWVudC5nZXRBdHRyaWJ1dGUoYGRhdGEtYnMtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCkpO1xuICAgIH0sXG5cbiAgICBvZmZzZXQoZWxlbWVudCkge1xuICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHJlY3QudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0LFxuICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIHBvc2l0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogZWxlbWVudC5vZmZzZXRUb3AsXG4gICAgICAgIGxlZnQ6IGVsZW1lbnQub2Zmc2V0TGVmdFxuICAgICAgfTtcbiAgICB9XG5cbiAgfTtcblxuICByZXR1cm4gTWFuaXB1bGF0b3I7XG5cbn0pKSk7XG5cbiIsIi8qIVxuICAqIEJvb3RzdHJhcCBzZWxlY3Rvci1lbmdpbmUuanMgdjUuMS4xIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKVxuICAqIENvcHlyaWdodCAyMDExLTIwMjEgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycylcbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLlNlbGVjdG9yRW5naW5lID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBCb290c3RyYXAgKHY1LjEuMSk6IHV0aWwvaW5kZXguanNcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIGNvbnN0IGlzRWxlbWVudCA9IG9iaiA9PiB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iai5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvYmogPSBvYmpbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09ICd1bmRlZmluZWQnO1xuICB9O1xuXG4gIGNvbnN0IGlzVmlzaWJsZSA9IGVsZW1lbnQgPT4ge1xuICAgIGlmICghaXNFbGVtZW50KGVsZW1lbnQpIHx8IGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCd2aXNpYmlsaXR5JykgPT09ICd2aXNpYmxlJztcbiAgfTtcblxuICBjb25zdCBpc0Rpc2FibGVkID0gZWxlbWVudCA9PiB7XG4gICAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnQubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZWxlbWVudC5kaXNhYmxlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmRpc2FibGVkO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSAhPT0gJ2ZhbHNlJztcbiAgfTtcblxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogQm9vdHN0cmFwICh2NS4xLjEpOiBkb20vc2VsZWN0b3ItZW5naW5lLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cbiAgY29uc3QgTk9ERV9URVhUID0gMztcbiAgY29uc3QgU2VsZWN0b3JFbmdpbmUgPSB7XG4gICAgZmluZChzZWxlY3RvciwgZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgcmV0dXJuIFtdLmNvbmNhdCguLi5FbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsLmNhbGwoZWxlbWVudCwgc2VsZWN0b3IpKTtcbiAgICB9LFxuXG4gICAgZmluZE9uZShzZWxlY3RvciwgZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3IuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgfSxcblxuICAgIGNoaWxkcmVuKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KC4uLmVsZW1lbnQuY2hpbGRyZW4pLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5tYXRjaGVzKHNlbGVjdG9yKSk7XG4gICAgfSxcblxuICAgIHBhcmVudHMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgIGxldCBhbmNlc3RvciA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgICAgd2hpbGUgKGFuY2VzdG9yICYmIGFuY2VzdG9yLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBhbmNlc3Rvci5ub2RlVHlwZSAhPT0gTk9ERV9URVhUKSB7XG4gICAgICAgIGlmIChhbmNlc3Rvci5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHBhcmVudHMucHVzaChhbmNlc3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnRzO1xuICAgIH0sXG5cbiAgICBwcmV2KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICBsZXQgcHJldmlvdXMgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cbiAgICAgIHdoaWxlIChwcmV2aW91cykge1xuICAgICAgICBpZiAocHJldmlvdXMubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gW3ByZXZpb3VzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZpb3VzID0gcHJldmlvdXMucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG5cbiAgICBuZXh0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICBsZXQgbmV4dCA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICBpZiAobmV4dC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiBbbmV4dF07XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0ID0gbmV4dC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuXG4gICAgZm9jdXNhYmxlQ2hpbGRyZW4oZWxlbWVudCkge1xuICAgICAgY29uc3QgZm9jdXNhYmxlcyA9IFsnYScsICdidXR0b24nLCAnaW5wdXQnLCAndGV4dGFyZWEnLCAnc2VsZWN0JywgJ2RldGFpbHMnLCAnW3RhYmluZGV4XScsICdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXSddLm1hcChzZWxlY3RvciA9PiBgJHtzZWxlY3Rvcn06bm90KFt0YWJpbmRleF49XCItXCJdKWApLmpvaW4oJywgJyk7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKGZvY3VzYWJsZXMsIGVsZW1lbnQpLmZpbHRlcihlbCA9PiAhaXNEaXNhYmxlZChlbCkgJiYgaXNWaXNpYmxlKGVsKSk7XG4gICAgfVxuXG4gIH07XG5cbiAgcmV0dXJuIFNlbGVjdG9yRW5naW5lO1xuXG59KSkpO1xuXG4iXX0=